{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 10:03:45:345"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:03:45:345"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:03:45:345"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:03:46:346"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:03:46:346"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 10:03:46:346"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:03:46:346"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 10:03:46:346"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:03:47:347"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:03:47:347"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:03:47:347"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:03:47:347"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:03:47:347"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:03:48:348"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:03:48:348"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:03:47:347"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:03:50:350"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:03:50:350"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:03:50:350"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:03:50:350"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:03:51:351"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:03:51:351"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 10:08:04:84"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 10:08:07:87"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 10:08:08:88"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=20, query=undefined","timestamp":"2025-04-26 10:08:36:836"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 10:08:36:836"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 10:08:38:838"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 10:16:13:1613"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:16:13:1613"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:16:14:1614"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:16:14:1614"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:16:16:1616"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 10:16:17:1617"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:16:17:1617"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:16:18:1618"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:16:16:1616"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 10:16:18:1618"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:16:18:1618"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:16:18:1618"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:16:18:1618"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:16:18:1618"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:16:19:1619"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 10:17:26:1726"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:17:27:1727"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:17:27:1727"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:17:27:1727"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:17:30:1730"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 10:17:32:1732"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:17:33:1733"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:17:33:1733"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:17:31:1731"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 10:17:33:1733"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:17:34:1734"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:17:34:1734"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:17:34:1734"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:17:34:1734"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:17:35:1735"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 10:19:11:1911"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:19:12:1912"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:19:12:1912"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:19:12:1912"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:19:14:1914"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 10:19:15:1915"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:19:15:1915"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:19:14:1914"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 10:19:15:1915"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:19:16:1916"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:19:16:1916"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:19:16:1916"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:19:16:1916"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:19:16:1916"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:19:17:1917"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:19:16:1916"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:19:23:1923"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:19:24:1924"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:19:24:1924"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:19:24:1924"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:19:24:1924"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:19:24:1924"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 10:24:28:2428"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:24:29:2429"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:24:30:2430"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:24:30:2430"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:24:33:2433"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 10:24:36:2436"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:24:37:2437"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:24:34:2434"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 10:24:37:2437"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:24:37:2437"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:24:37:2437"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:24:38:2438"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:24:38:2438"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:24:38:2438"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:24:38:2438"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 10:32:29:3229"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:32:30:3230"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:32:30:3230"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:32:31:3231"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:32:34:3234"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 10:32:37:3237"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:32:37:3237"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:32:38:3238"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:32:35:3235"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 10:32:37:3237"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:32:38:3238"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:32:38:3238"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:32:38:3238"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:32:38:3238"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:32:39:3239"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 10:33:57:3357"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:33:58:3358"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:33:58:3358"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:33:59:3359"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:33:59:3359"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 10:34:00:340"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:34:01:341"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:34:01:341"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:34:01:341"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:34:00:340"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 10:34:01:341"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:34:02:342"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:34:02:342"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:34:02:342"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:34:03:343"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 10:34:01:341"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 10:34:08:348"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 10:34:08:348"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 10:34:08:348"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 10:34:08:348"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 10:34:09:349"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 10:34:09:349"}
{"level":"info","message":"[Worker] Shutting down recipe worker process...","timestamp":"2025-04-26 11:07:44:744"}
{"level":"info","message":"[Worker] Shutting down image worker process...","timestamp":"2025-04-26 11:07:44:744"}
{"level":"info","message":"[Worker] Shutting down chat worker process...","timestamp":"2025-04-26 11:07:44:744"}
{"level":"warn","message":"Image worker is closing connection to Redis.","timestamp":"2025-04-26 11:07:44:744"}
{"level":"warn","message":"[Worker] Chat worker is closing connection to Redis.","timestamp":"2025-04-26 11:07:44:744"}
{"level":"info","message":"[Worker] Recipe worker and imageQueueEvents connection closed.","timestamp":"2025-04-26 11:07:44:744"}
{"level":"warn","message":"Image worker has closed connection to Redis.","timestamp":"2025-04-26 11:07:44:744"}
{"level":"warn","message":"[Worker] Chat worker has closed connection to Redis.","timestamp":"2025-04-26 11:07:44:744"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 11:08:34:834"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:08:35:835"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 11:08:36:836"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:08:36:836"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 11:08:37:837"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 11:08:39:839"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:08:40:840"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 11:08:40:840"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:08:41:841"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 11:08:39:839"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 11:08:42:842"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:08:42:842"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 11:08:42:842"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 11:08:42:842"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:08:43:843"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 11:08:43:843"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:08:52:852"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 11:08:53:853"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 11:08:53:853"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 11:08:53:853"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:08:53:853"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:08:53:853"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 11:19:11:1911"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 11:19:11:1911"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:19:14:1914"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:21:56:2156"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"User message saved","messageId":"01be58e8-96b9-4f07-bcbc-04ab1cdd2792","timestamp":"2025-04-26 11:21:56:2156"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"105","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:21:57:2157"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 105","timestamp":"2025-04-26 11:21:57:2157"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"105","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:21:57:2157"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:21:57:2157"}
{"jobId":"105","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:21:57:2157"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"105","level":"error","message":"[Worker] Error processing chat message job. Total Duration: 732ms","timestamp":"2025-04-26 11:21:57:2157"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"105","level":"warn","message":"[Worker] Chat job completed with handled error state","timestamp":"2025-04-26 11:21:58:2158"}
{"jobId":"105","level":"warn","message":"Chat job completed with handled error: OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","timestamp":"2025-04-26 11:21:58:2158"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 11:21:59:2159"}
{"jobId":"105","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 11:21:59:2159"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:22:25:2225"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"User message saved","messageId":"945a57c2-73f4-4635-9863-63bebb42ff40","timestamp":"2025-04-26 11:22:25:2225"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"106","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:22:25:2225"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:22:25:2225"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 106","timestamp":"2025-04-26 11:22:25:2225"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"106","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:22:25:2225"}
{"jobId":"106","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:22:25:2225"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"106","level":"error","message":"[Worker] Error processing chat message job. Total Duration: 516ms","timestamp":"2025-04-26 11:22:26:2226"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"106","level":"warn","message":"[Worker] Chat job completed with handled error state","timestamp":"2025-04-26 11:22:26:2226"}
{"jobId":"106","level":"warn","message":"Chat job completed with handled error: OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","timestamp":"2025-04-26 11:22:27:2227"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 11:22:27:2227"}
{"jobId":"106","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 11:22:27:2227"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:22:37:2237"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"User message saved","messageId":"29496972-120a-49b7-a47c-5ef6eaf27e04","timestamp":"2025-04-26 11:22:37:2237"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"107","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:22:37:2237"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 107","timestamp":"2025-04-26 11:22:37:2237"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"107","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:22:37:2237"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:22:38:2238"}
{"jobId":"107","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:22:38:2238"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"107","level":"error","message":"[Worker] Error processing chat message job. Total Duration: 445ms","timestamp":"2025-04-26 11:22:38:2238"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"107","level":"warn","message":"[Worker] Chat job completed with handled error state","timestamp":"2025-04-26 11:22:38:2238"}
{"jobId":"107","level":"error","message":"Chat job completed but 'reply' is missing or invalid type","resultReplyType":"undefined","timestamp":"2025-04-26 11:22:38:2238"}
{"isAppError":false,"level":"error","message":"Error in handleChatMessage: Chat completed but no valid reply was generated.","statusCode":500,"timestamp":"2025-04-26 11:22:38:2238"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:22:59:2259"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"User message saved","messageId":"8d9e633d-17a5-4b37-962a-a2ab75c64b0f","timestamp":"2025-04-26 11:22:59:2259"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"108","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:23:00:230"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:23:00:230"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 108","timestamp":"2025-04-26 11:23:00:230"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","jobId":"108","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:23:00:230"}
{"jobId":"108","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:23:00:230"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"108","level":"error","message":"[Worker] Error processing chat message job. Total Duration: 497ms","timestamp":"2025-04-26 11:23:00:230"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"108","level":"warn","message":"[Worker] Chat job completed with handled error state","timestamp":"2025-04-26 11:23:01:231"}
{"jobId":"108","level":"warn","message":"Chat job completed with handled error: OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","timestamp":"2025-04-26 11:23:01:231"}
{"conversationId":"32db6697-86c6-4b05-a61c-1f6042cbfe89","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 11:23:01:231"}
{"jobId":"108","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 11:23:01:231"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 11:27:07:277"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 11:27:07:277"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:27:10:2710"}
{"conversationId":"c12246ba-77c1-4776-88b1-3bcaa6e7f205","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:27:46:2746"}
{"conversationId":"c12246ba-77c1-4776-88b1-3bcaa6e7f205","level":"info","message":"User message saved","messageId":"020b17e1-cf79-4c7d-9a78-9f1eceb7f855","timestamp":"2025-04-26 11:27:46:2746"}
{"conversationId":"c12246ba-77c1-4776-88b1-3bcaa6e7f205","jobId":"109","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:27:47:2747"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:27:47:2747"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 109","timestamp":"2025-04-26 11:27:47:2747"}
{"conversationId":"c12246ba-77c1-4776-88b1-3bcaa6e7f205","jobId":"109","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:27:47:2747"}
{"jobId":"109","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:27:47:2747"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"109","level":"error","message":"[Worker] Error processing chat message job. Total Duration: 435ms","timestamp":"2025-04-26 11:27:47:2747"}
{"error":"OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","jobId":"109","level":"warn","message":"[Worker] Chat job completed with handled error state","timestamp":"2025-04-26 11:27:48:2748"}
{"jobId":"109","level":"warn","message":"Chat job completed with handled error: OpenAI API Error (401): 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","timestamp":"2025-04-26 11:27:48:2748"}
{"conversationId":"c12246ba-77c1-4776-88b1-3bcaa6e7f205","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 11:27:48:2748"}
{"jobId":"109","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 11:27:48:2748"}
{"level":"info","message":"[Worker] Shutting down chat worker process...","timestamp":"2025-04-26 11:29:00:290"}
{"level":"warn","message":"[Worker] Chat worker is closing connection to Redis.","timestamp":"2025-04-26 11:29:00:290"}
{"level":"info","message":"[Worker] Shutting down image worker process...","timestamp":"2025-04-26 11:29:00:290"}
{"level":"info","message":"[Worker] Shutting down recipe worker process...","timestamp":"2025-04-26 11:29:00:290"}
{"level":"warn","message":"Image worker is closing connection to Redis.","timestamp":"2025-04-26 11:29:00:290"}
{"level":"warn","message":"[Worker] Chat worker has closed connection to Redis.","timestamp":"2025-04-26 11:29:00:290"}
{"level":"warn","message":"Image worker has closed connection to Redis.","timestamp":"2025-04-26 11:29:00:290"}
{"level":"info","message":"[Worker] Recipe worker and imageQueueEvents connection closed.","timestamp":"2025-04-26 11:29:00:290"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 11:32:15:3215"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:32:15:3215"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 11:32:16:3216"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:32:16:3216"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 11:32:15:3215"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 11:32:16:3216"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 11:32:16:3216"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 11:32:16:3216"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 11:32:17:3217"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 11:32:21:3221"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 11:32:22:3222"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 11:32:22:3222"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 11:32:22:3222"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:32:22:3222"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:32:22:3222"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 11:35:53:3553"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 11:35:56:3556"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:35:56:3556"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:36:30:3630"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"User message saved","messageId":"b4bf3b42-2c56-4dff-9ed6-10f572e599f1","timestamp":"2025-04-26 11:36:30:3630"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","jobId":"110","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:36:31:3631"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:36:31:3631"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 110","timestamp":"2025-04-26 11:36:31:3631"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","jobId":"110","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:36:31:3631"}
{"jobId":"110","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:36:31:3631"}
{"jobId":"110","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3471ms","timestamp":"2025-04-26 11:36:35:3635"}
{"jobId":"110","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 11:36:35:3635"}
{"jobId":"110","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 11:36:35:3635"}
{"jobId":"110","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 4001ms","timestamp":"2025-04-26 11:36:35:3635"}
{"jobId":"110","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 11:36:35:3635"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 11:36:36:3636"}
{"jobId":"110","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 11:36:36:3636"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:36:47:3647"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"User message saved","messageId":"8729863b-48cc-4656-8585-3ec2c72163c2","timestamp":"2025-04-26 11:36:47:3647"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","jobId":"111","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:36:47:3647"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 111","timestamp":"2025-04-26 11:36:47:3647"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","jobId":"111","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:36:47:3647"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:36:48:3648"}
{"jobId":"111","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:36:48:3648"}
{"jobId":"111","level":"info","message":"[Worker] generateChatResponse returned. Duration: 2860ms","timestamp":"2025-04-26 11:36:50:3650"}
{"jobId":"111","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 11:36:51:3651"}
{"jobId":"111","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 11:36:51:3651"}
{"jobId":"111","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 3470ms","timestamp":"2025-04-26 11:36:51:3651"}
{"jobId":"111","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 11:36:51:3651"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 11:36:52:3652"}
{"jobId":"111","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 11:36:52:3652"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"Chat message received","timestamp":"2025-04-26 11:37:00:370"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"User message saved","messageId":"f4cf1325-e70e-4c23-a34b-49c3fbecdb7a","timestamp":"2025-04-26 11:37:00:370"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","jobId":"112","level":"info","message":"Chat message job added","timestamp":"2025-04-26 11:37:00:370"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 112","timestamp":"2025-04-26 11:37:00:370"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","jobId":"112","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 11:37:00:370"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 11:37:01:371"}
{"jobId":"112","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 11:37:01:371"}
{"jobId":"112","level":"info","message":"[Worker] generateChatResponse returned. Duration: 5333ms","timestamp":"2025-04-26 11:37:06:376"}
{"jobId":"112","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 11:37:06:376"}
{"jobId":"112","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 11:37:06:376"}
{"jobId":"112","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 5858ms","timestamp":"2025-04-26 11:37:06:376"}
{"jobId":"112","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 11:37:06:376"}
{"conversationId":"7ec473de-660e-402e-b86c-c16a27e3aae0","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 11:37:07:377"}
{"jobId":"112","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 11:37:07:377"}
{"level":"info","message":"Queue system is active and connected.","timestamp":"2025-04-26 11:37:14:3714"}
{"level":"info","message":"Recipe generation requested via Queue for query: Chicken Cordon Bleu is a classic dish that wraps tender chicken around a delicious core of ham and melty Swiss cheese, all encased in a golden breadcrumb coating., requestId: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:14:3714"}
{"level":"info","message":"Recipe generation job 644ba881-d45e-4679-bbe9-c6219ae97459 added to queue","timestamp":"2025-04-26 11:37:15:3715"}
{"level":"info","message":"[Worker] Recipe Processor function ENTERED for job: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:15:3715"}
{"jobId":"644ba881-d45e-4679-bbe9-c6219ae97459","level":"info","message":"Processing recipe job","requestId":"644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:15:3715"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Generating content...","timestamp":"2025-04-26 11:37:15:3715"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:20:3720"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: active, progress: 10%","timestamp":"2025-04-26 11:37:20:3720"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:25:3725"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: active, progress: 10%","timestamp":"2025-04-26 11:37:25:3725"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:30:3730"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: active, progress: 10%","timestamp":"2025-04-26 11:37:30:3730"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:35:3735"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: active, progress: 10%","timestamp":"2025-04-26 11:37:35:3735"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Parsing content...","timestamp":"2025-04-26 11:37:38:3738"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Saving initial recipe data...","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Generating images (10 steps)...","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"Initializing partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 1...","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 40%","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 274","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 2...","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 274","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 275","timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 275","timestamp":"2025-04-26 11:37:39:3739"}
{"jobId":"274","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":0,"timestamp":"2025-04-26 11:37:39:3739"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:37:40:3740"}
{"jobId":"275","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":1,"timestamp":"2025-04-26 11:37:40:3740"}
{"level":"info","message":"[Job 274] Generating image...","prompt":"Step 1 for recipe 'Classic Chicken Cordon Bleu': Preheating oven. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:40:3740"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:40:3740"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 3...","timestamp":"2025-04-26 11:37:40:3740"}
{"level":"info","message":"[Job 275] Generating image...","prompt":"Step 2 for recipe 'Classic Chicken Cordon Bleu': Pounding chicken breasts. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:40:3740"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 276","timestamp":"2025-04-26 11:37:40:3740"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: active, progress: 47%","timestamp":"2025-04-26 11:37:40:3740"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 4...","timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 276","timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 277","timestamp":"2025-04-26 11:37:41:3741"}
{"jobId":"276","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":2,"timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 277","timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Job 276] Generating image...","prompt":"Step 3 for recipe 'Classic Chicken Cordon Bleu': Seasoning chicken. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 5...","timestamp":"2025-04-26 11:37:41:3741"}
{"jobId":"277","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":3,"timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 278","timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Job 277] Generating image...","prompt":"Step 4 for recipe 'Classic Chicken Cordon Bleu': Assembling chicken rolls. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:41:3741"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 278","timestamp":"2025-04-26 11:37:41:3741"}
{"jobId":"278","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":4,"timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 6...","timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Job 278] Generating image...","prompt":"Step 5 for recipe 'Classic Chicken Cordon Bleu': Preparing breading station. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 279","timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 279","timestamp":"2025-04-26 11:37:42:3742"}
{"jobId":"279","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":5,"timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 7...","timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Job 279] Generating image...","prompt":"Step 6 for recipe 'Classic Chicken Cordon Bleu': Coating chicken rolls. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 280","timestamp":"2025-04-26 11:37:42:3742"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 8...","timestamp":"2025-04-26 11:37:43:3743"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 281","timestamp":"2025-04-26 11:37:43:3743"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 9...","timestamp":"2025-04-26 11:37:43:3743"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 282","timestamp":"2025-04-26 11:37:43:3743"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queueing realistic image job for step 10...","timestamp":"2025-04-26 11:37:44:3744"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Queued realistic image generation job 283","timestamp":"2025-04-26 11:37:44:3744"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Waiting for 10 image jobs...","timestamp":"2025-04-26 11:37:44:3744"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:45:3745"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: active, progress: 95%","timestamp":"2025-04-26 11:37:45:3745"}
{"level":"info","message":"[Job 276] Downloading image...","timestamp":"2025-04-26 11:37:55:3755"}
{"level":"info","message":"[Job 277] Downloading image...","timestamp":"2025-04-26 11:37:55:3755"}
{"level":"info","message":"[Job 276] Uploading image...","timestamp":"2025-04-26 11:37:57:3757"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/2.png in bucket: recipe-images","timestamp":"2025-04-26 11:37:57:3757"}
{"level":"info","message":"[Job 278] Downloading image...","timestamp":"2025-04-26 11:37:57:3757"}
{"level":"info","message":"[Job 277] Uploading image...","timestamp":"2025-04-26 11:37:57:3757"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/3.png in bucket: recipe-images","timestamp":"2025-04-26 11:37:57:3757"}
{"level":"info","message":"[Job 274] Downloading image...","timestamp":"2025-04-26 11:37:58:3758"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/2.png","timestamp":"2025-04-26 11:37:58:3758"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/3.png","timestamp":"2025-04-26 11:37:58:3758"}
{"level":"info","message":"[Job 276] Image processing completed successfully.","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 277] Image processing completed successfully.","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 279] Downloading image...","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"Updated step 2 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:59:3759"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/2.png","jobId":"276","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 280","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"Updated step 3 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:37:59:3759"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/3.png","jobId":"277","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 281","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 46%","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 276] Updated partial recipe step 2 with image URL","timestamp":"2025-04-26 11:37:59:3759"}
{"jobId":"280","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":6,"timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 46%","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 277] Updated partial recipe step 3 with image URL","timestamp":"2025-04-26 11:37:59:3759"}
{"jobId":"281","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":7,"timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 274] Uploading image...","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/0.png in bucket: recipe-images","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 280] Generating image...","prompt":"Step 7 for recipe 'Classic Chicken Cordon Bleu': Heating oil and butter. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 281] Generating image...","prompt":"Step 8 for recipe 'Classic Chicken Cordon Bleu': Browning chicken rolls. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:37:59:3759"}
{"level":"info","message":"[Job 279] Uploading image...","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/5.png in bucket: recipe-images","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"[Job 278] Uploading image...","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/0.png","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/4.png in bucket: recipe-images","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/5.png","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/4.png","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"[Job 274] Image processing completed successfully.","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Updated step 0 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:00:380"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/0.png","jobId":"274","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 282","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"[Job 279] Image processing completed successfully.","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"[Job 278] Image processing completed successfully.","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 52%","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"[Job 274] Updated partial recipe step 0 with image URL","timestamp":"2025-04-26 11:38:00:380"}
{"jobId":"282","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":8,"timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Updated step 5 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:00:380"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/5.png","jobId":"279","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 283","timestamp":"2025-04-26 11:38:00:380"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"Updated step 4 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:01:381"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/4.png","jobId":"278","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"[Job 282] Generating image...","prompt":"Step 9 for recipe 'Classic Chicken Cordon Bleu': Baking chicken rolls. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 58%","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"[Job 279] Updated partial recipe step 5 with image URL","timestamp":"2025-04-26 11:38:01:381"}
{"jobId":"283","level":"info","message":"Processing image job","recipeId":"c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","stepIndex":9,"timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 58%","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"[Job 278] Updated partial recipe step 4 with image URL","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"[Job 283] Generating image...","prompt":"Step 10 for recipe 'Classic Chicken Cordon Bleu': Serving Chicken Cordon Bleu. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"[Job 275] Downloading image...","timestamp":"2025-04-26 11:38:01:381"}
{"level":"info","message":"[Job 275] Uploading image...","timestamp":"2025-04-26 11:38:02:382"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/1.png in bucket: recipe-images","timestamp":"2025-04-26 11:38:02:382"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/1.png","timestamp":"2025-04-26 11:38:02:382"}
{"level":"info","message":"[Job 275] Image processing completed successfully.","timestamp":"2025-04-26 11:38:03:383"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:03:383"}
{"level":"info","message":"Updated step 1 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:03:383"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/1.png","jobId":"275","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:03:383"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 64%","timestamp":"2025-04-26 11:38:03:383"}
{"level":"info","message":"[Job 275] Updated partial recipe step 1 with image URL","timestamp":"2025-04-26 11:38:03:383"}
{"level":"info","message":"[Job 281] Downloading image...","timestamp":"2025-04-26 11:38:12:3812"}
{"level":"info","message":"[Job 280] Downloading image...","timestamp":"2025-04-26 11:38:13:3813"}
{"level":"info","message":"[Job 283] Downloading image...","timestamp":"2025-04-26 11:38:14:3814"}
{"level":"info","message":"[Job 281] Uploading image...","timestamp":"2025-04-26 11:38:14:3814"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/7.png in bucket: recipe-images","timestamp":"2025-04-26 11:38:14:3814"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/7.png","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"[Job 280] Uploading image...","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/6.png in bucket: recipe-images","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"[Job 281] Image processing completed successfully.","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"Updated step 7 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:15:3815"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/7.png","jobId":"281","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/6.png","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 70%","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"[Job 281] Updated partial recipe step 7 with image URL","timestamp":"2025-04-26 11:38:15:3815"}
{"level":"info","message":"[Job 280] Image processing completed successfully.","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"Updated step 6 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:16:3816"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/6.png","jobId":"280","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 76%","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"[Job 280] Updated partial recipe step 6 with image URL","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"[Job 283] Uploading image...","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/9.png in bucket: recipe-images","timestamp":"2025-04-26 11:38:16:3816"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/9.png","timestamp":"2025-04-26 11:38:17:3817"}
{"level":"info","message":"[Job 283] Image processing completed successfully.","timestamp":"2025-04-26 11:38:17:3817"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:17:3817"}
{"level":"info","message":"Updated step 9 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:17:3817"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/9.png","jobId":"283","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:17:3817"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 82%","timestamp":"2025-04-26 11:38:18:3818"}
{"level":"info","message":"[Job 283] Updated partial recipe step 9 with image URL","timestamp":"2025-04-26 11:38:18:3818"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:20:3820"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: active, progress: 95%","timestamp":"2025-04-26 11:38:20:3820"}
{"level":"info","message":"[Job 282] Downloading image...","timestamp":"2025-04-26 11:38:20:3820"}
{"level":"info","message":"[Job 282] Uploading image...","timestamp":"2025-04-26 11:38:23:3823"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/8.png in bucket: recipe-images","timestamp":"2025-04-26 11:38:23:3823"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/8.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"[Job 282] Image processing completed successfully.","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Merging partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Updated step 8 image URL for 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:24:3824"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/8.png","jobId":"282","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 0 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/0.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 1 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/1.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 2 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/2.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 3 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/3.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 4 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/4.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 5 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/5.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 6 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/6.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 7 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/7.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 8 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/8.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Setting image_url for step 9 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/9.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Successfully updated partial recipe cache for 644ba881-d45e-4679-bbe9-c6219ae97459, progress: 88%","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"[Job 282] Updated partial recipe step 8 with image URL","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Saving completed recipe c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72 to database...","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Saving recipe ID c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72 for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Recipe ID c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72 saved/upserted successfully.","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Recipe c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72 saved successfully by worker (User: d46a5b79-61e3-4e5b-8978-6f3b2f48efcc).","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Recipe generation completed: \"Classic Chicken Cordon Bleu\" with realistic images","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"[Job 644ba881-d45e-4679-bbe9-c6219ae97459] Final recipe has 10 steps with images:","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 1 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/0.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 2 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/1.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 3 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/2.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 4 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/3.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 5 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/4.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 6 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/5.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 7 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/6.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 8 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/7.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 9 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/8.png","timestamp":"2025-04-26 11:38:24:3824"}
{"level":"info","message":"Step 10 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/9.png","timestamp":"2025-04-26 11:38:24:3824"}
{"jobId":"644ba881-d45e-4679-bbe9-c6219ae97459","level":"info","message":"Recipe job completed successfully: \"Classic Chicken Cordon Bleu\"","requestId":"644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:25:3825"}
{"level":"info","message":"Checking status for recipe generation: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 is in state: completed, progress: 100%","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 completed. Verifying final data from DB for recipe ID: c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Successfully fetched final recipe c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72 from DB for completed job 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Job 644ba881-d45e-4679-bbe9-c6219ae97459 completed successfully.","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Recipe 644ba881-d45e-4679-bbe9-c6219ae97459 has 10 steps with images:","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 0 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/0.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 1 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/1.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 2 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/2.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 3 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/3.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 4 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/4.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 5 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/5.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 6 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/6.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 7 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/7.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 8 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/8.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Step 9 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72/9.png","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Cleaned up Redis cache for requestId: 644ba881-d45e-4679-bbe9-c6219ae97459","timestamp":"2025-04-26 11:38:55:3855"}
{"level":"info","message":"Recipe c0e2cfd0-dec7-4ace-90f8-0d3c44c34e72 added to favorites for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc","timestamp":"2025-04-26 11:41:04:414"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 11:44:13:4413"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 11:44:13:4413"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:44:14:4414"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=breakfast, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:44:49:4449"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=lunch, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:44:50:4450"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=dinner, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:44:54:4454"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=dessert, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:44:56:4456"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:45:03:453"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 11:45:04:454"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 12:10:22:1022"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 12:10:22:1022"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 12:10:26:1026"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 12:21:15:2115"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:21:16:2116"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 12:21:16:2116"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 12:21:16:2116"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 12:21:16:2116"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 12:21:17:2117"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 12:21:16:2116"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 12:21:17:2117"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:21:17:2117"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:21:17:2117"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 12:21:18:2118"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 12:21:18:2118"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 12:21:18:2118"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:21:18:2118"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:21:18:2118"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 12:21:18:2118"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:21:26:2126"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 12:21:26:2126"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 12:21:26:2126"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 12:21:26:2126"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:21:26:2126"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 12:21:26:2126"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 12:22:01:221"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 12:22:02:222"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 12:22:05:225"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"Chat message received","timestamp":"2025-04-26 12:24:41:2441"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"User message saved","messageId":"328d01b3-ae93-4540-bac0-5decff7f87c8","timestamp":"2025-04-26 12:24:41:2441"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","jobId":"113","level":"info","message":"Chat message job added","timestamp":"2025-04-26 12:24:41:2441"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 12:24:41:2441"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 113","timestamp":"2025-04-26 12:24:41:2441"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","jobId":"113","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 12:24:41:2441"}
{"jobId":"113","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 12:24:42:2442"}
{"jobId":"113","level":"info","message":"[Worker] generateChatResponse returned. Duration: 2393ms","timestamp":"2025-04-26 12:24:44:2444"}
{"jobId":"113","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 12:24:44:2444"}
{"jobId":"113","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 12:24:44:2444"}
{"jobId":"113","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 2925ms","timestamp":"2025-04-26 12:24:44:2444"}
{"jobId":"113","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 12:24:44:2444"}
{"jobId":"113","level":"error","message":"Chat job completed but 'reply' is missing or invalid type","resultReplyType":"undefined","timestamp":"2025-04-26 12:24:44:2444"}
{"isAppError":false,"level":"error","message":"Error in handleChatMessage: Chat completed but no valid reply was generated.","statusCode":500,"timestamp":"2025-04-26 12:24:44:2444"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"Chat message received","timestamp":"2025-04-26 12:25:46:2546"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"User message saved","messageId":"1aa45ef6-9d2b-4a36-899f-0257910e1b84","timestamp":"2025-04-26 12:25:46:2546"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","jobId":"114","level":"info","message":"Chat message job added","timestamp":"2025-04-26 12:25:47:2547"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 114","timestamp":"2025-04-26 12:25:47:2547"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","jobId":"114","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 12:25:47:2547"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 12:25:47:2547"}
{"jobId":"114","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 12:25:47:2547"}
{"jobId":"114","level":"info","message":"[Worker] generateChatResponse returned. Duration: 2786ms","timestamp":"2025-04-26 12:25:50:2550"}
{"jobId":"114","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 12:25:50:2550"}
{"jobId":"114","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 12:25:50:2550"}
{"jobId":"114","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 3317ms","timestamp":"2025-04-26 12:25:50:2550"}
{"jobId":"114","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 12:25:50:2550"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 12:25:51:2551"}
{"jobId":"114","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 12:25:51:2551"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"Chat message received","timestamp":"2025-04-26 12:26:07:267"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"User message saved","messageId":"66d3ec56-5750-4eb6-acc8-71c21c18329a","timestamp":"2025-04-26 12:26:07:267"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","jobId":"115","level":"info","message":"Chat message job added","timestamp":"2025-04-26 12:26:07:267"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 12:26:07:267"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 115","timestamp":"2025-04-26 12:26:07:267"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","jobId":"115","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 12:26:07:267"}
{"jobId":"115","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 12:26:07:267"}
{"jobId":"115","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3278ms","timestamp":"2025-04-26 12:26:11:2611"}
{"jobId":"115","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 12:26:11:2611"}
{"jobId":"115","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 12:26:11:2611"}
{"jobId":"115","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 3855ms","timestamp":"2025-04-26 12:26:11:2611"}
{"jobId":"115","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 12:26:11:2611"}
{"conversationId":"f18ab943-2ca8-4fce-87ee-18d9b2d2d833","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 12:26:12:2612"}
{"jobId":"115","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 12:26:12:2612"}
{"level":"info","message":"Queue system is active and connected.","timestamp":"2025-04-26 12:26:15:2615"}
{"level":"info","message":"Recipe generation requested via Queue for query: Rustic Rye Bread, requestId: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:15:2615"}
{"level":"info","message":"Recipe generation job b0f56d28-2383-4e43-99c6-000cea16b932 added to queue","timestamp":"2025-04-26 12:26:15:2615"}
{"level":"info","message":"[Worker] Recipe Processor function ENTERED for job: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:16:2616"}
{"globalRecipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","jobId":"b0f56d28-2383-4e43-99c6-000cea16b932","level":"info","message":"Processing recipe job","requestId":"b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:16:2616"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Generating content...","timestamp":"2025-04-26 12:26:16:2616"}
{"level":"info","message":"Checking status for recipe generation: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:20:2620"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 is in state: active, progress: 10%","timestamp":"2025-04-26 12:26:21:2621"}
{"level":"info","message":"Checking status for recipe generation: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:26:2626"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 is in state: active, progress: 10%","timestamp":"2025-04-26 12:26:26:2626"}
{"level":"info","message":"Checking status for recipe generation: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:30:2630"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 is in state: active, progress: 10%","timestamp":"2025-04-26 12:26:31:2631"}
{"level":"info","message":"Checking status for recipe generation: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:35:2635"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Parsing content...","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 is in state: active, progress: 30%","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Saving initial recipe data (for progressive display)...","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Generating images (9 steps)...","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"Initializing partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 1...","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 40%","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 284","timestamp":"2025-04-26 12:26:36:2636"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 2...","timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 284","timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 285","timestamp":"2025-04-26 12:26:37:2637"}
{"jobId":"284","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":0,"timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"[Job 284] Generating image...","prompt":"Step 1 for recipe 'Rustic Rye Bread': Yeast foaming in bowl. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 3...","timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 285","timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 286","timestamp":"2025-04-26 12:26:37:2637"}
{"jobId":"285","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":1,"timestamp":"2025-04-26 12:26:37:2637"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 286","timestamp":"2025-04-26 12:26:38:2638"}
{"level":"info","message":"[Job 285] Generating image...","prompt":"Step 2 for recipe 'Rustic Rye Bread': Mixing dough ingredients. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:38:2638"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 4...","timestamp":"2025-04-26 12:26:38:2638"}
{"jobId":"286","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":2,"timestamp":"2025-04-26 12:26:38:2638"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 287","timestamp":"2025-04-26 12:26:38:2638"}
{"level":"info","message":"[Job 286] Generating image...","prompt":"Step 3 for recipe 'Rustic Rye Bread': Kneading dough. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:38:2638"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 287","timestamp":"2025-04-26 12:26:38:2638"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 5...","timestamp":"2025-04-26 12:26:38:2638"}
{"jobId":"287","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":3,"timestamp":"2025-04-26 12:26:38:2638"}
{"level":"info","message":"[Job 287] Generating image...","prompt":"Step 4 for recipe 'Rustic Rye Bread': Dough rising in bowl. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:39:2639"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 288","timestamp":"2025-04-26 12:26:39:2639"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 6...","timestamp":"2025-04-26 12:26:39:2639"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:26:39:2639"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 288","timestamp":"2025-04-26 12:26:39:2639"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 289","timestamp":"2025-04-26 12:26:39:2639"}
{"jobId":"288","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":4,"timestamp":"2025-04-26 12:26:39:2639"}
{"level":"info","message":"[Job 288] Generating image...","prompt":"Step 5 for recipe 'Rustic Rye Bread': Shaping loaf on baking sheet. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 289","timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 7...","timestamp":"2025-04-26 12:26:40:2640"}
{"jobId":"289","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":5,"timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 290","timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"[Job 289] Generating image...","prompt":"Step 6 for recipe 'Rustic Rye Bread': Loaf rising on baking sheet. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 8...","timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"Checking status for recipe generation: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 291","timestamp":"2025-04-26 12:26:40:2640"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 is in state: active, progress: 81%","timestamp":"2025-04-26 12:26:41:2641"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queueing realistic image job for step 9...","timestamp":"2025-04-26 12:26:41:2641"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Queued realistic image generation job 292","timestamp":"2025-04-26 12:26:41:2641"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Waiting for 9 image jobs...","timestamp":"2025-04-26 12:26:41:2641"}
{"level":"info","message":"[Job 285] Downloading image...","timestamp":"2025-04-26 12:26:52:2652"}
{"level":"info","message":"[Job 284] Downloading image...","timestamp":"2025-04-26 12:26:53:2653"}
{"level":"info","message":"[Job 286] Downloading image...","timestamp":"2025-04-26 12:26:53:2653"}
{"level":"info","message":"[Job 287] Downloading image...","timestamp":"2025-04-26 12:26:53:2653"}
{"level":"info","message":"[Job 289] Downloading image...","timestamp":"2025-04-26 12:26:54:2654"}
{"level":"info","message":"[Job 288] Downloading image...","timestamp":"2025-04-26 12:26:55:2655"}
{"level":"info","message":"[Job 284] Uploading image...","timestamp":"2025-04-26 12:26:55:2655"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/0.png in bucket: recipe-images","timestamp":"2025-04-26 12:26:55:2655"}
{"level":"info","message":"[Job 285] Uploading image...","timestamp":"2025-04-26 12:26:55:2655"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/1.png in bucket: recipe-images","timestamp":"2025-04-26 12:26:55:2655"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/0.png","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"[Job 284] Image processing completed successfully.","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/1.png","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"Updated step 0 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:56:2656"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/0.png","jobId":"284","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 290","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"[Job 287] Uploading image...","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/3.png in bucket: recipe-images","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"[Job 286] Uploading image...","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"[Job 285] Image processing completed successfully.","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/2.png in bucket: recipe-images","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 46%","timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"[Job 284] Updated partial recipe step 0 with image URL","timestamp":"2025-04-26 12:26:56:2656"}
{"jobId":"290","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":6,"timestamp":"2025-04-26 12:26:56:2656"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"Updated step 1 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"[Job 290] Generating image...","prompt":"Step 7 for recipe 'Rustic Rye Bread': Brushing loaf with butter. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:57:2657"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/1.png","jobId":"285","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 291","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/3.png","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 53%","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"[Job 285] Updated partial recipe step 1 with image URL","timestamp":"2025-04-26 12:26:57:2657"}
{"jobId":"291","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":7,"timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"[Job 289] Uploading image...","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/5.png in bucket: recipe-images","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/2.png","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"[Job 291] Generating image...","prompt":"Step 8 for recipe 'Rustic Rye Bread': Baking bread in oven. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"[Job 287] Image processing completed successfully.","timestamp":"2025-04-26 12:26:57:2657"}
{"level":"info","message":"[Job 288] Uploading image...","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"[Job 286] Image processing completed successfully.","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Updated step 3 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:58:2658"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/3.png","jobId":"287","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 292","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/4.png in bucket: recipe-images","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 60%","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"[Job 287] Updated partial recipe step 3 with image URL","timestamp":"2025-04-26 12:26:58:2658"}
{"jobId":"292","level":"info","message":"Processing image job","recipeId":"7cf2ea76-4ebc-4e4c-85b3-c287e498951b","stepIndex":8,"timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Updated step 2 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:58:2658"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/2.png","jobId":"286","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/5.png","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"[Job 292] Generating image...","prompt":"Step 9 for recipe 'Rustic Rye Bread': Cooling bread on rack. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 66%","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"[Job 286] Updated partial recipe step 2 with image URL","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/4.png","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"[Job 289] Image processing completed successfully.","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"[Job 288] Image processing completed successfully.","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Updated step 5 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:58:2658"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/5.png","jobId":"289","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:26:58:2658"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:59:2659"}
{"level":"info","message":"Updated step 4 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:26:59:2659"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/4.png","jobId":"288","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:26:59:2659"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 73%","timestamp":"2025-04-26 12:26:59:2659"}
{"level":"info","message":"[Job 289] Updated partial recipe step 5 with image URL","timestamp":"2025-04-26 12:26:59:2659"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 73%","timestamp":"2025-04-26 12:26:59:2659"}
{"level":"info","message":"[Job 288] Updated partial recipe step 4 with image URL","timestamp":"2025-04-26 12:26:59:2659"}
{"level":"info","message":"[Job 290] Downloading image...","timestamp":"2025-04-26 12:27:09:279"}
{"level":"info","message":"[Job 291] Downloading image...","timestamp":"2025-04-26 12:27:09:279"}
{"level":"info","message":"[Job 290] Uploading image...","timestamp":"2025-04-26 12:27:11:2711"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/6.png in bucket: recipe-images","timestamp":"2025-04-26 12:27:11:2711"}
{"level":"info","message":"[Job 291] Uploading image...","timestamp":"2025-04-26 12:27:11:2711"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/7.png in bucket: recipe-images","timestamp":"2025-04-26 12:27:11:2711"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/6.png","timestamp":"2025-04-26 12:27:12:2712"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/7.png","timestamp":"2025-04-26 12:27:12:2712"}
{"level":"info","message":"[Job 290] Image processing completed successfully.","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"[Job 291] Image processing completed successfully.","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Updated step 6 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:13:2713"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/6.png","jobId":"290","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Updated step 7 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:13:2713"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/7.png","jobId":"291","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 80%","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"[Job 290] Updated partial recipe step 6 with image URL","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 80%","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"[Job 291] Updated partial recipe step 7 with image URL","timestamp":"2025-04-26 12:27:13:2713"}
{"level":"info","message":"Checking status for recipe generation: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:16:2716"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 is in state: active, progress: 95%","timestamp":"2025-04-26 12:27:16:2716"}
{"level":"info","message":"[Job 292] Downloading image...","timestamp":"2025-04-26 12:27:34:2734"}
{"level":"info","message":"[Job 292] Uploading image...","timestamp":"2025-04-26 12:27:36:2736"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/8.png in bucket: recipe-images","timestamp":"2025-04-26 12:27:36:2736"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/8.png","timestamp":"2025-04-26 12:27:36:2736"}
{"level":"info","message":"[Job 292] Image processing completed successfully.","timestamp":"2025-04-26 12:27:36:2736"}
{"level":"info","message":"Merging partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Updated step 8 image URL for b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:37:2737"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/8.png","jobId":"292","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 0 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/0.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 1 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/1.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 2 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/2.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 3 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/3.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 4 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/4.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 5 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/5.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 6 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/6.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 7 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/7.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Setting image_url for step 8 to https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/8.png","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Successfully updated partial recipe cache for b0f56d28-2383-4e43-99c6-000cea16b932, progress: 86%","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"[Job 292] Updated partial recipe step 8 with image URL","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Attempting to save GLOBAL recipe copy 7cf2ea76-4ebc-4e4c-85b3-c287e498951b...","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Saving recipe ID 7cf2ea76-4ebc-4e4c-85b3-c287e498951b for user Global","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Recipe ID 7cf2ea76-4ebc-4e4c-85b3-c287e498951b saved/upserted successfully.","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] GLOBAL recipe copy 7cf2ea76-4ebc-4e4c-85b3-c287e498951b saved successfully.","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] User detected (d46a5b79-61e3-4e5b-8978-6f3b2f48efcc). Generating unique ID for user's recipe copy: 6c95c6c9-8383-4874-b5da-7c01d2bc1c47","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Attempting to save user-specific recipe copy 6c95c6c9-8383-4874-b5da-7c01d2bc1c47 for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc...","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Saving recipe ID 6c95c6c9-8383-4874-b5da-7c01d2bc1c47 for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Recipe ID 6c95c6c9-8383-4874-b5da-7c01d2bc1c47 saved/upserted successfully.","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] User-specific recipe copy 6c95c6c9-8383-4874-b5da-7c01d2bc1c47 saved successfully for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc.","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"[Job b0f56d28-2383-4e43-99c6-000cea16b932] Recipe generation process completed successfully: \"Rustic Rye Bread\"","timestamp":"2025-04-26 12:27:37:2737"}
{"jobId":"b0f56d28-2383-4e43-99c6-000cea16b932","level":"info","message":"Recipe job completed successfully: \"Rustic Rye Bread\"","requestId":"b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:37:2737"}
{"level":"info","message":"Checking status for recipe generation: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:50:2750"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 is in state: completed, progress: 100%","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 completed. Verifying final data from DB for recipe ID: 6c95c6c9-8383-4874-b5da-7c01d2bc1c47","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Successfully fetched final recipe 6c95c6c9-8383-4874-b5da-7c01d2bc1c47 from DB for completed job b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Job b0f56d28-2383-4e43-99c6-000cea16b932 completed successfully.","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Recipe b0f56d28-2383-4e43-99c6-000cea16b932 has 9 steps with images:","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 0 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/0.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 1 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/1.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 2 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/2.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 3 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/3.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 4 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/4.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 5 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/5.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 6 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/6.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 7 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/7.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Step 8 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/7cf2ea76-4ebc-4e4c-85b3-c287e498951b/8.png","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Cleaned up Redis cache for requestId: b0f56d28-2383-4e43-99c6-000cea16b932","timestamp":"2025-04-26 12:27:51:2751"}
{"level":"info","message":"Recipe 6c95c6c9-8383-4874-b5da-7c01d2bc1c47 added to favorites for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc","timestamp":"2025-04-26 12:29:18:2918"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 12:32:30:3230"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 12:32:31:3231"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 12:32:34:3234"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 12:51:05:515"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:51:05:515"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 12:51:06:516"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 12:51:06:516"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 12:51:06:516"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 12:51:06:516"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 12:51:06:516"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:51:08:518"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 12:51:07:517"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 12:51:10:5110"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 12:51:11:5111"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 12:51:11:5111"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 12:51:11:5111"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 12:51:11:5111"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 12:51:11:5111"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 13:05:40:540"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:05:41:541"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 13:05:41:541"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:05:42:542"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 13:05:41:541"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 13:05:42:542"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:05:42:542"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 13:05:41:541"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 13:05:42:542"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:05:42:542"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 13:05:43:543"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 13:05:43:543"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 13:05:43:543"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:05:43:543"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:05:43:543"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 13:05:43:543"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:05:48:548"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 13:05:48:548"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 13:05:48:548"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 13:05:48:548"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:05:49:549"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:05:49:549"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 13:06:50:650"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:06:50:650"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 13:06:50:650"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:06:51:651"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 13:07:38:738"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:07:39:739"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 13:07:39:739"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:07:40:740"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-26 13:12:11:1211"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:12:11:1211"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 13:12:12:1212"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:12:12:1212"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 13:12:12:1212"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 13:12:12:1212"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-26 13:12:13:1213"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-26 13:12:18:1218"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-26 13:12:18:1218"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-26 13:12:18:1218"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-26 13:12:18:1218"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:12:18:1218"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:12:18:1218"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 13:13:33:1333"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 13:13:37:1337"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 13:13:41:1341"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","level":"info","message":"Chat message received","timestamp":"2025-04-26 13:15:01:151"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","level":"info","message":"User message saved","messageId":"83c75cf0-e9c3-4858-a39d-9f500933f279","timestamp":"2025-04-26 13:15:01:151"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","jobId":"116","level":"info","message":"Chat message job added","timestamp":"2025-04-26 13:15:01:151"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:15:02:152"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 116","timestamp":"2025-04-26 13:15:02:152"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","jobId":"116","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 13:15:02:152"}
{"jobId":"116","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 13:15:02:152"}
{"jobId":"116","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3673ms","timestamp":"2025-04-26 13:15:06:156"}
{"jobId":"116","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 13:15:06:156"}
{"jobId":"116","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 13:15:06:156"}
{"jobId":"116","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 4211ms","timestamp":"2025-04-26 13:15:06:156"}
{"jobId":"116","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 13:15:06:156"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 13:15:07:157"}
{"jobId":"116","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 13:15:07:157"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","level":"info","message":"Chat message received","timestamp":"2025-04-26 13:15:15:1515"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","level":"info","message":"User message saved","messageId":"b0bb1c95-90a1-4d46-8ddf-ae511f6f189e","timestamp":"2025-04-26 13:15:15:1515"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","jobId":"117","level":"info","message":"Chat message job added","timestamp":"2025-04-26 13:15:15:1515"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:15:16:1516"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 117","timestamp":"2025-04-26 13:15:16:1516"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","jobId":"117","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 13:15:16:1516"}
{"jobId":"117","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 13:15:16:1516"}
{"jobId":"117","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3732ms","timestamp":"2025-04-26 13:15:20:1520"}
{"jobId":"117","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 13:15:20:1520"}
{"jobId":"117","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 13:15:20:1520"}
{"jobId":"117","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 4255ms","timestamp":"2025-04-26 13:15:20:1520"}
{"jobId":"117","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 13:15:20:1520"}
{"conversationId":"9416d9ca-a80c-4160-a71c-9831258a20ce","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 13:15:21:1521"}
{"jobId":"117","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 13:15:21:1521"}
{"level":"info","message":"Queue system is active and connected.","timestamp":"2025-04-26 13:15:34:1534"}
{"level":"info","message":"Recipe generation requested via Queue for query: Classic Hot Black Tea, requestId: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:34:1534"}
{"level":"info","message":"Recipe generation job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab added to queue","timestamp":"2025-04-26 13:15:35:1535"}
{"level":"info","message":"[Worker] Recipe Processor function ENTERED for job: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:35:1535"}
{"globalRecipeId":"e210779f-c4ab-4b4f-adaf-ef6f735ddbe8","jobId":"4bcf0e23-2545-4ce5-ab73-954c23ef37ab","level":"info","message":"Processing recipe job","requestId":"4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:35:1535"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Generating content...","timestamp":"2025-04-26 13:15:35:1535"}
{"level":"info","message":"Checking status for recipe generation: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:40:1540"}
{"level":"info","message":"Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab is in state: active, progress: 10%","timestamp":"2025-04-26 13:15:40:1540"}
{"level":"info","message":"Checking status for recipe generation: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:45:1545"}
{"level":"info","message":"Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab is in state: active, progress: 10%","timestamp":"2025-04-26 13:15:45:1545"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Parsing content...","timestamp":"2025-04-26 13:15:48:1548"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Saving initial recipe data (for progressive display)...","timestamp":"2025-04-26 13:15:49:1549"}
{"level":"info","message":"Initializing partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:49:1549"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Generating STEP images (6 steps)...","timestamp":"2025-04-26 13:15:49:1549"}
{"level":"info","message":"Successfully updated partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab, progress: 40%","timestamp":"2025-04-26 13:15:49:1549"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queueing realistic image job for step 1...","timestamp":"2025-04-26 13:15:49:1549"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queued realistic image generation job 293","timestamp":"2025-04-26 13:15:49:1549"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queueing realistic image job for step 2...","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queued realistic image generation job 294","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 294","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"Checking status for recipe generation: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queueing realistic image job for step 3...","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:15:50:1550"}
{"jobId":"294","level":"info","message":"Processing image job","recipeId":"e210779f-c4ab-4b4f-adaf-ef6f735ddbe8","stepIndex":1,"timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queued realistic image generation job 295","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"[Job 294] Generating image...","prompt":"Step 2 for recipe 'Classic Hot Black Tea': Adding tea to cup. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab is in state: active, progress: 58%","timestamp":"2025-04-26 13:15:50:1550"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queueing realistic image job for step 4...","timestamp":"2025-04-26 13:15:51:1551"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:15:51:1551"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 295","timestamp":"2025-04-26 13:15:51:1551"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queued realistic image generation job 296","timestamp":"2025-04-26 13:15:51:1551"}
{"jobId":"295","level":"info","message":"Processing image job","recipeId":"e210779f-c4ab-4b4f-adaf-ef6f735ddbe8","stepIndex":2,"timestamp":"2025-04-26 13:15:51:1551"}
{"level":"info","message":"[Job 295] Generating image...","prompt":"Step 3 for recipe 'Classic Hot Black Tea': Pouring water over tea. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 13:15:51:1551"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queueing realistic image job for step 5...","timestamp":"2025-04-26 13:15:51:1551"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queued realistic image generation job 297","timestamp":"2025-04-26 13:15:51:1551"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queueing realistic image job for step 6...","timestamp":"2025-04-26 13:15:52:1552"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Queued realistic image generation job 298","timestamp":"2025-04-26 13:15:52:1552"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Waiting for 6 image jobs to complete...","timestamp":"2025-04-26 13:15:52:1552"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 298","timestamp":"2025-04-26 13:15:52:1552"}
{"jobId":"298","level":"info","message":"Processing image job","recipeId":"e210779f-c4ab-4b4f-adaf-ef6f735ddbe8","stepIndex":5,"timestamp":"2025-04-26 13:15:52:1552"}
{"level":"info","message":"[Job 298] Generating image...","prompt":"Step 6 for recipe 'Classic Hot Black Tea': Adding condiments to tea. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 13:15:52:1552"}
{"level":"info","message":"Checking status for recipe generation: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:15:55:1555"}
{"level":"info","message":"Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab is in state: active, progress: 95%","timestamp":"2025-04-26 13:15:55:1555"}
{"level":"info","message":"[Job 295] Downloading image...","timestamp":"2025-04-26 13:16:04:164"}
{"level":"info","message":"[Job 294] Downloading image...","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"[Job 295] Uploading image...","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/2.png in bucket: recipe-images","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"[Job 298] Downloading image...","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/2.png","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"[Job 295] Image processing completed successfully.","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"[Job 298] Uploading image...","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/5.png in bucket: recipe-images","timestamp":"2025-04-26 13:16:07:167"}
{"level":"info","message":"Merging partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"Updated step 2 image URL for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:08:168"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/2.png","jobId":"295","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/5.png","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"Successfully updated partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab, progress: 50%","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"[Job 295] Updated partial recipe step 2 with image URL","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"[Job 298] Image processing completed successfully.","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"Merging partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"Updated step 5 image URL for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:08:168"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/5.png","jobId":"298","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"Successfully updated partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab, progress: 60%","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"[Job 298] Updated partial recipe step 5 with image URL","timestamp":"2025-04-26 13:16:08:168"}
{"level":"info","message":"[Job 294] Uploading image...","timestamp":"2025-04-26 13:16:09:169"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/1.png in bucket: recipe-images","timestamp":"2025-04-26 13:16:09:169"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/1.png","timestamp":"2025-04-26 13:16:09:169"}
{"level":"info","message":"[Job 294] Image processing completed successfully.","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Merging partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Updated step 1 image URL for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:10:1610"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/1.png","jobId":"294","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Successfully updated partial recipe cache for 4bcf0e23-2545-4ce5-ab73-954c23ef37ab, progress: 70%","timestamp":"2025-04-26 13:16:10:1610"}
{"error":"OpenAI API Error: 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","level":"error","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Image job step 0 completed with error:","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"[Job 294] Updated partial recipe step 1 with image URL","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Populated image_url for step 1: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/1.png","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Populated image_url for step 2: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/2.png","timestamp":"2025-04-26 13:16:10:1610"}
{"error":"OpenAI API Error: 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","level":"error","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Image job step 3 completed with error:","timestamp":"2025-04-26 13:16:10:1610"}
{"error":"OpenAI API Error: 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","level":"error","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Image job step 4 completed with error:","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Populated image_url for step 5: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/5.png","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Using image from last step (5) as thumbnail: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/5.png","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Attempting to save GLOBAL recipe copy e210779f-c4ab-4b4f-adaf-ef6f735ddbe8...","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Saving recipe ID e210779f-c4ab-4b4f-adaf-ef6f735ddbe8 for user Global","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Recipe ID e210779f-c4ab-4b4f-adaf-ef6f735ddbe8 saved/upserted successfully.","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] GLOBAL recipe copy e210779f-c4ab-4b4f-adaf-ef6f735ddbe8 saved successfully.","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] User detected (d46a5b79-61e3-4e5b-8978-6f3b2f48efcc). Generating unique ID for user's recipe copy: c0e91cb7-7c6f-4b42-ac49-0bfab42947fd","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Attempting to save user-specific recipe copy c0e91cb7-7c6f-4b42-ac49-0bfab42947fd for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc...","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Saving recipe ID c0e91cb7-7c6f-4b42-ac49-0bfab42947fd for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc","timestamp":"2025-04-26 13:16:10:1610"}
{"level":"info","message":"Recipe ID c0e91cb7-7c6f-4b42-ac49-0bfab42947fd saved/upserted successfully.","timestamp":"2025-04-26 13:16:11:1611"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] User-specific recipe copy c0e91cb7-7c6f-4b42-ac49-0bfab42947fd saved successfully for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc.","timestamp":"2025-04-26 13:16:11:1611"}
{"level":"info","message":"[Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab] Recipe generation process completed successfully: \"Classic Hot Black Tea\"","timestamp":"2025-04-26 13:16:11:1611"}
{"jobId":"4bcf0e23-2545-4ce5-ab73-954c23ef37ab","level":"info","message":"Recipe job completed successfully: \"Classic Hot Black Tea\"","requestId":"4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:11:1611"}
{"level":"info","message":"Checking status for recipe generation: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:30:1630"}
{"level":"info","message":"Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab is in state: completed, progress: 100%","timestamp":"2025-04-26 13:16:30:1630"}
{"level":"info","message":"Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab completed. Verifying final data from DB for recipe ID: c0e91cb7-7c6f-4b42-ac49-0bfab42947fd","timestamp":"2025-04-26 13:16:30:1630"}
{"level":"info","message":"Successfully fetched final recipe c0e91cb7-7c6f-4b42-ac49-0bfab42947fd from DB for completed job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Job 4bcf0e23-2545-4ce5-ab73-954c23ef37ab completed successfully.","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Recipe 4bcf0e23-2545-4ce5-ab73-954c23ef37ab has 6 steps with images:","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Step 0 image_url: NOT SET","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Step 1 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/1.png","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Step 2 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/2.png","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Step 3 image_url: NOT SET","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Step 4 image_url: NOT SET","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Step 5 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/e210779f-c4ab-4b4f-adaf-ef6f735ddbe8/5.png","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Cleaned up Redis cache for requestId: 4bcf0e23-2545-4ce5-ab73-954c23ef37ab","timestamp":"2025-04-26 13:16:31:1631"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 13:18:45:1845"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 13:18:46:1846"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 13:18:48:1848"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","level":"info","message":"Chat message received","timestamp":"2025-04-26 13:19:52:1952"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","level":"info","message":"User message saved","messageId":"7d0eeae3-efe4-4543-b855-fbed1d59a5c8","timestamp":"2025-04-26 13:19:52:1952"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","jobId":"118","level":"info","message":"Chat message job added","timestamp":"2025-04-26 13:19:52:1952"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:19:53:1953"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 118","timestamp":"2025-04-26 13:19:53:1953"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","jobId":"118","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 13:19:53:1953"}
{"jobId":"118","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 13:19:53:1953"}
{"jobId":"118","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3092ms","timestamp":"2025-04-26 13:19:56:1956"}
{"jobId":"118","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 13:19:57:1957"}
{"jobId":"118","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 13:19:57:1957"}
{"jobId":"118","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 3880ms","timestamp":"2025-04-26 13:19:57:1957"}
{"jobId":"118","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 13:19:57:1957"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 13:19:58:1958"}
{"jobId":"118","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 13:19:58:1958"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","level":"info","message":"Chat message received","timestamp":"2025-04-26 13:20:09:209"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","level":"info","message":"User message saved","messageId":"5240995e-b573-4c6f-8b6f-596c8b165c45","timestamp":"2025-04-26 13:20:09:209"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","jobId":"119","level":"info","message":"Chat message job added","timestamp":"2025-04-26 13:20:09:209"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 119","timestamp":"2025-04-26 13:20:09:209"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","jobId":"119","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 13:20:09:209"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 13:20:09:209"}
{"jobId":"119","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 13:20:09:209"}
{"jobId":"119","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3711ms","timestamp":"2025-04-26 13:20:13:2013"}
{"jobId":"119","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 13:20:13:2013"}
{"jobId":"119","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 13:20:13:2013"}
{"jobId":"119","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 4233ms","timestamp":"2025-04-26 13:20:13:2013"}
{"jobId":"119","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 13:20:14:2014"}
{"conversationId":"8d2bea7e-8af9-4a9b-a601-d213d44bf7f2","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 13:20:14:2014"}
{"jobId":"119","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 13:20:14:2014"}
{"level":"info","message":"Queue system is active and connected.","timestamp":"2025-04-26 13:20:19:2019"}
{"level":"info","message":"Recipe generation requested via Queue for query: Spicy Pork Bulgogi, requestId: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:19:2019"}
{"level":"info","message":"Recipe generation job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe added to queue","timestamp":"2025-04-26 13:20:19:2019"}
{"level":"info","message":"[Worker] Recipe Processor function ENTERED for job: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:19:2019"}
{"globalRecipeId":"4df364fb-3dde-42da-96c8-8c7d353c0335","jobId":"82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","level":"info","message":"Processing recipe job","requestId":"82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:19:2019"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Generating content...","timestamp":"2025-04-26 13:20:20:2020"}
{"level":"info","message":"Checking status for recipe generation: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:24:2024"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe is in state: active, progress: 10%","timestamp":"2025-04-26 13:20:25:2025"}
{"level":"info","message":"Checking status for recipe generation: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:29:2029"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe is in state: active, progress: 10%","timestamp":"2025-04-26 13:20:30:2030"}
{"level":"info","message":"Checking status for recipe generation: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:34:2034"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe is in state: active, progress: 10%","timestamp":"2025-04-26 13:20:35:2035"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Parsing content...","timestamp":"2025-04-26 13:20:37:2037"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Saving initial recipe data (for progressive display)...","timestamp":"2025-04-26 13:20:37:2037"}
{"level":"info","message":"Initializing partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:37:2037"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Generating STEP images (5 steps)...","timestamp":"2025-04-26 13:20:37:2037"}
{"level":"info","message":"Successfully updated partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe, progress: 40%","timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queueing realistic image job for step 1...","timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queued realistic image generation job 299","timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 299","timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queueing realistic image job for step 2...","timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:20:38:2038"}
{"jobId":"299","level":"info","message":"Processing image job","recipeId":"4df364fb-3dde-42da-96c8-8c7d353c0335","stepIndex":0,"timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queued realistic image generation job 300","timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"[Job 299] Generating image...","prompt":"Step 1 for recipe 'Spicy Pork Bulgogi': Preparing marinade. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 13:20:38:2038"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queueing realistic image job for step 3...","timestamp":"2025-04-26 13:20:39:2039"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queued realistic image generation job 301","timestamp":"2025-04-26 13:20:39:2039"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 301","timestamp":"2025-04-26 13:20:39:2039"}
{"jobId":"301","level":"info","message":"Processing image job","recipeId":"4df364fb-3dde-42da-96c8-8c7d353c0335","stepIndex":2,"timestamp":"2025-04-26 13:20:39:2039"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queueing realistic image job for step 4...","timestamp":"2025-04-26 13:20:39:2039"}
{"level":"info","message":"Checking status for recipe generation: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:39:2039"}
{"level":"info","message":"[Job 301] Generating image...","prompt":"Step 3 for recipe 'Spicy Pork Bulgogi': Cooking pork in pan. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 13:20:39:2039"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queued realistic image generation job 302","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 302","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe is in state: active, progress: 73%","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:20:40:2040"}
{"jobId":"302","level":"info","message":"Processing image job","recipeId":"4df364fb-3dde-42da-96c8-8c7d353c0335","stepIndex":3,"timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queueing realistic image job for step 5...","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"[Job 302] Generating image...","prompt":"Step 4 for recipe 'Spicy Pork Bulgogi': Adding onions to pork. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Queued realistic image generation job 303","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Waiting for 5 image jobs to complete...","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 303","timestamp":"2025-04-26 13:20:40:2040"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:20:41:2041"}
{"jobId":"303","level":"info","message":"Processing image job","recipeId":"4df364fb-3dde-42da-96c8-8c7d353c0335","stepIndex":4,"timestamp":"2025-04-26 13:20:41:2041"}
{"level":"info","message":"[Job 303] Generating image...","prompt":"Step 5 for recipe 'Spicy Pork Bulgogi': Garnishing bulgogi. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 13:20:41:2041"}
{"level":"info","message":"Checking status for recipe generation: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:44:2044"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe is in state: active, progress: 95%","timestamp":"2025-04-26 13:20:45:2045"}
{"level":"info","message":"[Job 299] Downloading image...","timestamp":"2025-04-26 13:20:51:2051"}
{"level":"info","message":"[Job 302] Downloading image...","timestamp":"2025-04-26 13:20:54:2054"}
{"level":"info","message":"[Job 303] Downloading image...","timestamp":"2025-04-26 13:20:56:2056"}
{"level":"info","message":"[Job 302] Uploading image...","timestamp":"2025-04-26 13:20:56:2056"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/3.png in bucket: recipe-images","timestamp":"2025-04-26 13:20:56:2056"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/3.png","timestamp":"2025-04-26 13:20:57:2057"}
{"level":"info","message":"[Job 302] Image processing completed successfully.","timestamp":"2025-04-26 13:20:57:2057"}
{"level":"info","message":"Merging partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:57:2057"}
{"level":"info","message":"Updated step 3 image URL for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:57:2057"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/3.png","jobId":"302","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 13:20:57:2057"}
{"level":"info","message":"Successfully updated partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe, progress: 52%","timestamp":"2025-04-26 13:20:58:2058"}
{"level":"info","message":"[Job 302] Updated partial recipe step 3 with image URL","timestamp":"2025-04-26 13:20:58:2058"}
{"level":"info","message":"[Job 303] Uploading image...","timestamp":"2025-04-26 13:20:58:2058"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/4.png in bucket: recipe-images","timestamp":"2025-04-26 13:20:58:2058"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/4.png","timestamp":"2025-04-26 13:20:58:2058"}
{"level":"info","message":"[Job 303] Image processing completed successfully.","timestamp":"2025-04-26 13:20:59:2059"}
{"level":"info","message":"Merging partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:59:2059"}
{"level":"info","message":"Updated step 4 image URL for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:20:59:2059"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/4.png","jobId":"303","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 13:20:59:2059"}
{"level":"info","message":"Successfully updated partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe, progress: 64%","timestamp":"2025-04-26 13:20:59:2059"}
{"level":"info","message":"[Job 303] Updated partial recipe step 4 with image URL","timestamp":"2025-04-26 13:20:59:2059"}
{"level":"info","message":"[Job 301] Downloading image...","timestamp":"2025-04-26 13:21:03:213"}
{"level":"info","message":"[Job 299] Uploading image...","timestamp":"2025-04-26 13:21:08:218"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/0.png in bucket: recipe-images","timestamp":"2025-04-26 13:21:08:218"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/0.png","timestamp":"2025-04-26 13:21:08:218"}
{"level":"info","message":"[Job 299] Image processing completed successfully.","timestamp":"2025-04-26 13:21:08:218"}
{"level":"info","message":"Merging partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:09:219"}
{"level":"info","message":"Updated step 0 image URL for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:09:219"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/0.png","jobId":"299","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 13:21:09:219"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 13:21:09:219"}
{"level":"info","message":"Successfully updated partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe, progress: 76%","timestamp":"2025-04-26 13:21:09:219"}
{"level":"info","message":"[Job 299] Updated partial recipe step 0 with image URL","timestamp":"2025-04-26 13:21:09:219"}
{"level":"info","message":"Checking status for recipe generation: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:19:2119"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe is in state: active, progress: 95%","timestamp":"2025-04-26 13:21:20:2120"}
{"level":"info","message":"[Job 301] Uploading image...","timestamp":"2025-04-26 13:21:26:2126"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/2.png in bucket: recipe-images","timestamp":"2025-04-26 13:21:26:2126"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/2.png","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"[Job 301] Image processing completed successfully.","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"Merging partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"Updated step 2 image URL for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:27:2127"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/2.png","jobId":"301","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"Populated image_url for step 0: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/0.png","timestamp":"2025-04-26 13:21:27:2127"}
{"error":"OpenAI API Error: 401 Incorrect API key provided: sk-proj-********************************************************************************************************************************************************diUA. You can find your API key at https://platform.openai.com/account/api-keys.","level":"error","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Image job step 1 completed with error:","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"Populated image_url for step 2: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/2.png","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"Populated image_url for step 3: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/3.png","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"Populated image_url for step 4: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/4.png","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Using image from last step (4) as thumbnail: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/4.png","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"Successfully updated partial recipe cache for 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe, progress: 88%","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"[Job 301] Updated partial recipe step 2 with image URL","timestamp":"2025-04-26 13:21:27:2127"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Attempting to save GLOBAL recipe copy 4df364fb-3dde-42da-96c8-8c7d353c0335...","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"Saving recipe ID 4df364fb-3dde-42da-96c8-8c7d353c0335 for user Global","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"Recipe ID 4df364fb-3dde-42da-96c8-8c7d353c0335 saved/upserted successfully.","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] GLOBAL recipe copy 4df364fb-3dde-42da-96c8-8c7d353c0335 saved successfully.","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] User detected (d46a5b79-61e3-4e5b-8978-6f3b2f48efcc). Generating unique ID for user's recipe copy: d1cac7d3-56f5-4b90-9fc2-9706370b3a79","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Attempting to save user-specific recipe copy d1cac7d3-56f5-4b90-9fc2-9706370b3a79 for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc...","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"Saving recipe ID d1cac7d3-56f5-4b90-9fc2-9706370b3a79 for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"Recipe ID d1cac7d3-56f5-4b90-9fc2-9706370b3a79 saved/upserted successfully.","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] User-specific recipe copy d1cac7d3-56f5-4b90-9fc2-9706370b3a79 saved successfully for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc.","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"[Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe] Recipe generation process completed successfully: \"Spicy Pork Bulgogi\"","timestamp":"2025-04-26 13:21:28:2128"}
{"jobId":"82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","level":"info","message":"Recipe job completed successfully: \"Spicy Pork Bulgogi\"","requestId":"82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:28:2128"}
{"level":"info","message":"Checking status for recipe generation: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:54:2154"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe is in state: completed, progress: 100%","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe completed. Verifying final data from DB for recipe ID: d1cac7d3-56f5-4b90-9fc2-9706370b3a79","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Successfully fetched final recipe d1cac7d3-56f5-4b90-9fc2-9706370b3a79 from DB for completed job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Job 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe completed successfully.","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Recipe 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe has 5 steps with images:","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Step 0 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/0.png","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Step 1 image_url: NOT SET","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Step 2 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/2.png","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Step 3 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/3.png","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Step 4 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/4df364fb-3dde-42da-96c8-8c7d353c0335/4.png","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Cleaned up Redis cache for requestId: 82c8ce3e-db77-4b71-85c9-b0d7261c4dbe","timestamp":"2025-04-26 13:21:55:2155"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 13:26:04:264"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 13:26:06:266"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 13:26:11:2611"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 14:22:30:2230"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 14:22:32:2232"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 14:22:34:2234"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"Chat message received","timestamp":"2025-04-26 14:26:04:264"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"User message saved","messageId":"967b570b-af37-49f9-863e-fcd61253f469","timestamp":"2025-04-26 14:26:04:264"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","jobId":"120","level":"info","message":"Chat message job added","timestamp":"2025-04-26 14:26:05:265"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 120","timestamp":"2025-04-26 14:26:05:265"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","jobId":"120","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 14:26:05:265"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 14:26:05:265"}
{"jobId":"120","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 14:26:05:265"}
{"jobId":"120","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3369ms","timestamp":"2025-04-26 14:26:08:268"}
{"jobId":"120","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 14:26:09:269"}
{"jobId":"120","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 14:26:09:269"}
{"jobId":"120","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 3898ms","timestamp":"2025-04-26 14:26:09:269"}
{"jobId":"120","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 14:26:09:269"}
{"jobId":"120","level":"error","message":"Chat job completed but 'reply' is missing or invalid type","resultReplyType":"undefined","timestamp":"2025-04-26 14:26:09:269"}
{"isAppError":false,"level":"error","message":"Error in handleChatMessage: Chat completed but no valid reply was generated.","statusCode":500,"timestamp":"2025-04-26 14:26:09:269"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"Chat message received","timestamp":"2025-04-26 14:26:42:2642"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"User message saved","messageId":"e5916c44-86e6-4df0-9d4a-0d453da2a84e","timestamp":"2025-04-26 14:26:42:2642"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","jobId":"121","level":"info","message":"Chat message job added","timestamp":"2025-04-26 14:26:42:2642"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 121","timestamp":"2025-04-26 14:26:42:2642"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","jobId":"121","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 14:26:42:2642"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 14:26:42:2642"}
{"jobId":"121","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 14:26:42:2642"}
{"jobId":"121","level":"info","message":"[Worker] generateChatResponse returned. Duration: 4814ms","timestamp":"2025-04-26 14:26:47:2647"}
{"jobId":"121","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 14:26:47:2647"}
{"jobId":"121","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 14:26:47:2647"}
{"jobId":"121","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 5349ms","timestamp":"2025-04-26 14:26:47:2647"}
{"jobId":"121","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 14:26:48:2648"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 14:26:48:2648"}
{"jobId":"121","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 14:26:48:2648"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"Chat message received","timestamp":"2025-04-26 14:27:51:2751"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"User message saved","messageId":"cbe9ebbf-719a-423e-89dd-869bb14ecdf8","timestamp":"2025-04-26 14:27:51:2751"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","jobId":"122","level":"info","message":"Chat message job added","timestamp":"2025-04-26 14:27:51:2751"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-26 14:27:52:2752"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 122","timestamp":"2025-04-26 14:27:52:2752"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","jobId":"122","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-26 14:27:52:2752"}
{"jobId":"122","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-26 14:27:52:2752"}
{"jobId":"122","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3682ms","timestamp":"2025-04-26 14:27:55:2755"}
{"jobId":"122","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-26 14:27:56:2756"}
{"jobId":"122","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-26 14:27:56:2756"}
{"jobId":"122","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 4211ms","timestamp":"2025-04-26 14:27:56:2756"}
{"jobId":"122","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-26 14:27:56:2756"}
{"conversationId":"12c2da30-dfe4-4b76-8f30-67e5f88d1437","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-26 14:27:56:2756"}
{"jobId":"122","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-26 14:27:56:2756"}
{"level":"info","message":"Queue system is active and connected.","timestamp":"2025-04-26 14:28:02:282"}
{"level":"info","message":"Recipe generation requested via Queue for query: Chicken Tikka Masala, requestId: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:02:282"}
{"level":"info","message":"Recipe generation job 8cbc699b-a138-4732-8ed5-d8a27e33e95a added to queue","timestamp":"2025-04-26 14:28:02:282"}
{"level":"info","message":"[Worker] Recipe Processor function ENTERED for job: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:03:283"}
{"globalRecipeId":"9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa","jobId":"8cbc699b-a138-4732-8ed5-d8a27e33e95a","level":"info","message":"Processing recipe job","requestId":"8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:03:283"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Generating content...","timestamp":"2025-04-26 14:28:03:283"}
{"level":"info","message":"Checking status for recipe generation: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:08:288"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a is in state: active, progress: 10%","timestamp":"2025-04-26 14:28:08:288"}
{"level":"info","message":"Checking status for recipe generation: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:13:2813"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a is in state: active, progress: 10%","timestamp":"2025-04-26 14:28:13:2813"}
{"level":"info","message":"Checking status for recipe generation: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:18:2818"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a is in state: active, progress: 10%","timestamp":"2025-04-26 14:28:18:2818"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Parsing content...","timestamp":"2025-04-26 14:28:21:2821"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Saving initial recipe data (for progressive display)...","timestamp":"2025-04-26 14:28:21:2821"}
{"level":"info","message":"Initializing partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:21:2821"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Generating STEP images (6 steps)...","timestamp":"2025-04-26 14:28:21:2821"}
{"level":"info","message":"Successfully updated partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a, progress: 40%","timestamp":"2025-04-26 14:28:22:2822"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queueing realistic image job for step 1...","timestamp":"2025-04-26 14:28:22:2822"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queued realistic image generation job 304","timestamp":"2025-04-26 14:28:22:2822"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queueing realistic image job for step 2...","timestamp":"2025-04-26 14:28:22:2822"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 14:28:22:2822"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 304","timestamp":"2025-04-26 14:28:22:2822"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queued realistic image generation job 305","timestamp":"2025-04-26 14:28:22:2822"}
{"jobId":"304","level":"info","message":"Processing image job","recipeId":"9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa","stepIndex":0,"timestamp":"2025-04-26 14:28:22:2822"}
{"level":"info","message":"[Job 304] Generating image...","prompt":"Step 1 for recipe 'Chicken Tikka Masala': Marinating chicken with spices. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"Checking status for recipe generation: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queueing realistic image job for step 3...","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 305","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queued realistic image generation job 306","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a is in state: active, progress: 58%","timestamp":"2025-04-26 14:28:23:2823"}
{"jobId":"305","level":"info","message":"Processing image job","recipeId":"9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa","stepIndex":1,"timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Job 305] Generating image...","prompt":"Step 2 for recipe 'Chicken Tikka Masala': Sautéing garlic and jalapeno. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queueing realistic image job for step 4...","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 306","timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queued realistic image generation job 307","timestamp":"2025-04-26 14:28:23:2823"}
{"jobId":"306","level":"info","message":"Processing image job","recipeId":"9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa","stepIndex":2,"timestamp":"2025-04-26 14:28:23:2823"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 307","timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 306] Generating image...","prompt":"Step 3 for recipe 'Chicken Tikka Masala': Cooking marinated chicken. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queueing realistic image job for step 5...","timestamp":"2025-04-26 14:28:24:2824"}
{"jobId":"307","level":"info","message":"Processing image job","recipeId":"9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa","stepIndex":3,"timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queued realistic image generation job 308","timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 307] Generating image...","prompt":"Step 4 for recipe 'Chicken Tikka Masala': Simmering chicken with tomato sauce. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 308","timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queueing realistic image job for step 6...","timestamp":"2025-04-26 14:28:24:2824"}
{"jobId":"308","level":"info","message":"Processing image job","recipeId":"9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa","stepIndex":4,"timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Queued realistic image generation job 309","timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 308] Generating image...","prompt":"Step 5 for recipe 'Chicken Tikka Masala': Adding cream and cilantro to the skillet. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 14:28:24:2824"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Waiting for 6 image jobs to complete...","timestamp":"2025-04-26 14:28:25:2825"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 309","timestamp":"2025-04-26 14:28:25:2825"}
{"jobId":"309","level":"info","message":"Processing image job","recipeId":"9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa","stepIndex":5,"timestamp":"2025-04-26 14:28:25:2825"}
{"level":"info","message":"[Job 309] Generating image...","prompt":"Step 6 for recipe 'Chicken Tikka Masala': Serving Chicken Tikka Masala with rice. Realistic food photography showing the cooking process.","timestamp":"2025-04-26 14:28:25:2825"}
{"level":"info","message":"Checking status for recipe generation: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:28:2828"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a is in state: active, progress: 95%","timestamp":"2025-04-26 14:28:28:2828"}
{"level":"info","message":"[Job 305] Downloading image...","timestamp":"2025-04-26 14:28:37:2837"}
{"level":"info","message":"[Job 306] Downloading image...","timestamp":"2025-04-26 14:28:37:2837"}
{"level":"info","message":"[Job 306] Uploading image...","timestamp":"2025-04-26 14:28:39:2839"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/2.png in bucket: recipe-images","timestamp":"2025-04-26 14:28:39:2839"}
{"level":"info","message":"[Job 305] Uploading image...","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/1.png in bucket: recipe-images","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"[Job 308] Downloading image...","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"[Job 307] Downloading image...","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/1.png","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/2.png","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"[Job 308] Uploading image...","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"[Job 305] Image processing completed successfully.","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/4.png in bucket: recipe-images","timestamp":"2025-04-26 14:28:40:2840"}
{"level":"info","message":"Merging partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Updated step 1 image URL for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:41:2841"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/1.png","jobId":"305","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"[Job 306] Image processing completed successfully.","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"[Job 307] Uploading image...","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/3.png in bucket: recipe-images","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Successfully updated partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a, progress: 50%","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"[Job 305] Updated partial recipe step 1 with image URL","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Merging partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Updated step 2 image URL for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:41:2841"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/2.png","jobId":"306","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Successfully updated partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a, progress: 60%","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"[Job 306] Updated partial recipe step 2 with image URL","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/3.png","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/4.png","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"[Job 309] Downloading image...","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"[Job 307] Image processing completed successfully.","timestamp":"2025-04-26 14:28:41:2841"}
{"level":"info","message":"[Job 308] Image processing completed successfully.","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"Merging partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"Updated step 3 image URL for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:42:2842"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/3.png","jobId":"307","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"Merging partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"Updated step 4 image URL for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:42:2842"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/4.png","jobId":"308","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"Successfully updated partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a, progress: 70%","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"[Job 307] Updated partial recipe step 3 with image URL","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"Successfully updated partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a, progress: 70%","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"[Job 308] Updated partial recipe step 4 with image URL","timestamp":"2025-04-26 14:28:42:2842"}
{"level":"info","message":"[Job 309] Uploading image...","timestamp":"2025-04-26 14:28:43:2843"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/5.png in bucket: recipe-images","timestamp":"2025-04-26 14:28:43:2843"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/5.png","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"[Job 304] Downloading image...","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"[Job 309] Image processing completed successfully.","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"Merging partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"Updated step 5 image URL for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:44:2844"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/5.png","jobId":"309","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"Successfully updated partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a, progress: 80%","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"[Job 309] Updated partial recipe step 5 with image URL","timestamp":"2025-04-26 14:28:44:2844"}
{"level":"info","message":"[Job 304] Uploading image...","timestamp":"2025-04-26 14:28:45:2845"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/0.png in bucket: recipe-images","timestamp":"2025-04-26 14:28:45:2845"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/0.png","timestamp":"2025-04-26 14:28:45:2845"}
{"level":"info","message":"[Job 304] Image processing completed successfully.","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Merging partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Updated step 0 image URL for 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:46:2846"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/0.png","jobId":"304","level":"info","message":"Image job completed successfully","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Populated image_url for step 0: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/0.png","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Populated image_url for step 1: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/1.png","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Populated image_url for step 2: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/2.png","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Populated image_url for step 3: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/3.png","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Populated image_url for step 4: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/4.png","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Populated image_url for step 5: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/5.png","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Using image from last step (5) as thumbnail: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/5.png","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Successfully updated partial recipe cache for 8cbc699b-a138-4732-8ed5-d8a27e33e95a, progress: 90%","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 304] Updated partial recipe step 0 with image URL","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Attempting to save GLOBAL recipe copy 9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa...","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Saving recipe ID 9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa for user Global","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Recipe ID 9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa saved/upserted successfully.","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] GLOBAL recipe copy 9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa saved successfully.","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] User detected (d46a5b79-61e3-4e5b-8978-6f3b2f48efcc). Generating unique ID for user's recipe copy: f20bc1aa-d3df-4206-8182-ea10d3b2e7b5","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Attempting to save user-specific recipe copy f20bc1aa-d3df-4206-8182-ea10d3b2e7b5 for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc...","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Saving recipe ID f20bc1aa-d3df-4206-8182-ea10d3b2e7b5 for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"Recipe ID f20bc1aa-d3df-4206-8182-ea10d3b2e7b5 saved/upserted successfully.","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] User-specific recipe copy f20bc1aa-d3df-4206-8182-ea10d3b2e7b5 saved successfully for user d46a5b79-61e3-4e5b-8978-6f3b2f48efcc.","timestamp":"2025-04-26 14:28:46:2846"}
{"level":"info","message":"[Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a] Recipe generation process completed successfully: \"Chicken Tikka Masala\"","timestamp":"2025-04-26 14:28:46:2846"}
{"jobId":"8cbc699b-a138-4732-8ed5-d8a27e33e95a","level":"info","message":"Recipe job completed successfully: \"Chicken Tikka Masala\"","requestId":"8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:28:47:2847"}
{"level":"info","message":"Checking status for recipe generation: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a is in state: completed, progress: 100%","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a completed. Verifying final data from DB for recipe ID: f20bc1aa-d3df-4206-8182-ea10d3b2e7b5","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Successfully fetched final recipe f20bc1aa-d3df-4206-8182-ea10d3b2e7b5 from DB for completed job 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Job 8cbc699b-a138-4732-8ed5-d8a27e33e95a completed successfully.","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Recipe 8cbc699b-a138-4732-8ed5-d8a27e33e95a has 6 steps with images:","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Step 0 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/0.png","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Step 1 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/1.png","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Step 2 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/2.png","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Step 3 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/3.png","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Step 4 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/4.png","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Step 5 image_url: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/9d6e8e4b-827a-42e3-8662-2e2bfd96c1fa/5.png","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Cleaned up Redis cache for requestId: 8cbc699b-a138-4732-8ed5-d8a27e33e95a","timestamp":"2025-04-26 14:29:03:293"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-26 14:39:47:3947"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-26 14:39:50:3950"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-26 14:39:51:3951"}
