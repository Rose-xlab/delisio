{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 00:05:53:553"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:05:54:554"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 00:05:54:554"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 00:05:54:554"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:05:54:554"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 00:05:55:555"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:05:55:555"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:05:54:554"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 00:05:55:555"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:05:55:555"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:05:55:555"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:05:55:555"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 00:05:55:555"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:05:56:556"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:05:56:556"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 00:06:50:650"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:06:51:651"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 00:06:51:651"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:06:51:651"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:06:51:651"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:06:53:653"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:06:53:653"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:06:52:652"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:06:55:655"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:06:56:656"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 00:06:56:656"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 00:06:56:656"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:06:56:656"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 00:06:56:656"}
{"level":"info","message":"[Worker] Shutting down image worker process...","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"info","message":"[Worker] Shutting down chat worker process...","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"info","message":"[Worker] Shutting down recipe worker process...","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"warn","message":"[Worker] Chat worker is closing connection to Redis.","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"warn","message":"Image worker is closing connection to Redis.","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"warn","message":"[Worker] Chat worker has closed connection to Redis.","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"info","message":"[Worker] Recipe worker and imageQueueEvents connection closed.","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"warn","message":"Image worker has closed connection to Redis.","timestamp":"2025-04-24 00:12:16:1216"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 00:12:43:1243"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:12:44:1244"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 00:12:44:1244"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 00:12:44:1244"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:12:44:1244"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:12:44:1244"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:12:46:1246"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:12:45:1245"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:12:48:1248"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:12:48:1248"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 00:12:48:1248"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 00:12:48:1248"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:12:49:1249"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 00:12:49:1249"}
{"level":"info","message":"[Worker] Shutting down recipe worker process...","timestamp":"2025-04-24 00:19:04:194"}
{"level":"info","message":"[Worker] Shutting down image worker process...","timestamp":"2025-04-24 00:19:04:194"}
{"level":"info","message":"[Worker] Shutting down chat worker process...","timestamp":"2025-04-24 00:19:04:194"}
{"level":"warn","message":"Image worker is closing connection to Redis.","timestamp":"2025-04-24 00:19:04:194"}
{"level":"warn","message":"[Worker] Chat worker is closing connection to Redis.","timestamp":"2025-04-24 00:19:04:194"}
{"level":"warn","message":"Image worker has closed connection to Redis.","timestamp":"2025-04-24 00:19:04:194"}
{"level":"info","message":"[Worker] Recipe worker and imageQueueEvents connection closed.","timestamp":"2025-04-24 00:19:04:194"}
{"level":"warn","message":"[Worker] Chat worker has closed connection to Redis.","timestamp":"2025-04-24 00:19:04:194"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 00:19:19:1919"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:19:20:1920"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 00:19:20:1920"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 00:19:21:1921"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:19:21:1921"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 00:19:22:1922"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:19:22:1922"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:19:21:1921"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 00:19:22:1922"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:19:23:1923"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:19:23:1923"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 00:19:23:1923"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:19:23:1923"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:19:23:1923"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:19:23:1923"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 00:19:23:1923"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 00:19:27:1927"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 00:19:27:1927"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 00:19:27:1927"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 00:19:27:1927"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 00:19:27:1927"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 00:19:27:1927"}
{"level":"info","message":"Workspaceing popular recipes with limit: 5","timestamp":"2025-04-24 00:41:52:4152"}
{"level":"info","message":"Fetching all recipe categories with counts","timestamp":"2025-04-24 00:41:53:4153"}
{"level":"info","message":"Workspaceing discover recipes with filters: category=undefined, tags=undefined, sort=recent, limit=20, offset=0, query=undefined","timestamp":"2025-04-24 00:41:54:4154"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 00:53:08:538"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 00:53:08:538"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 00:54:49:5449"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 00:54:49:5449"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:00:47:047"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:00:47:047"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:01:00:10"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:01:00:10"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:01:04:14"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:01:04:14"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:01:14:114"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:01:14:114"}
{"conversationId":"a3904ceb-f38a-4004-a6ec-573a11815d0c","level":"info","message":"Chat message received","timestamp":"2025-04-24 01:02:14:214"}
{"conversationId":"a3904ceb-f38a-4004-a6ec-573a11815d0c","level":"info","message":"User message saved","messageId":"cef2194c-4f01-4967-9736-0acc4ad44e7a","timestamp":"2025-04-24 01:02:14:214"}
{"conversationId":"a3904ceb-f38a-4004-a6ec-573a11815d0c","jobId":"56","level":"info","message":"Chat message job added","timestamp":"2025-04-24 01:02:14:214"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 56","timestamp":"2025-04-24 01:02:14:214"}
{"conversationId":"a3904ceb-f38a-4004-a6ec-573a11815d0c","jobId":"56","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-24 01:02:14:214"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:02:14:214"}
{"jobId":"56","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-24 01:02:14:214"}
{"jobId":"56","level":"info","message":"[Worker] generateChatResponse returned. Duration: 4846ms","timestamp":"2025-04-24 01:02:19:219"}
{"jobId":"56","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-24 01:02:19:219"}
{"jobId":"56","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-24 01:02:19:219"}
{"jobId":"56","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 5388ms","timestamp":"2025-04-24 01:02:20:220"}
{"jobId":"56","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-24 01:02:20:220"}
{"jobId":"56","level":"error","message":"Chat job completed but 'reply' is missing or invalid type","resultReplyType":"undefined","timestamp":"2025-04-24 01:02:20:220"}
{"isAppError":false,"level":"error","message":"Error in handleChatMessage: Chat completed but no valid reply was generated.","statusCode":500,"timestamp":"2025-04-24 01:02:20:220"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 01:10:04:104"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:10:04:104"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:10:04:104"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:10:05:105"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:10:04:104"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 01:10:05:105"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:10:05:105"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:10:05:105"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 01:10:06:106"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:10:06:106"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:10:06:106"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:10:06:106"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:10:06:106"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:10:06:106"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:10:06:106"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 01:13:30:1330"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:13:31:1331"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:13:31:1331"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:13:31:1331"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:13:32:1332"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 01:13:32:1332"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:13:33:1333"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:13:33:1333"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:13:32:1332"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 01:13:33:1333"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:13:33:1333"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:13:33:1333"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:13:33:1333"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:13:33:1333"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:13:34:1334"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 01:16:00:160"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:16:00:160"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:16:01:161"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:16:01:161"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:16:03:163"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 01:16:05:165"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:16:05:165"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:16:05:165"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:16:03:163"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 01:16:05:165"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:16:06:166"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:16:06:166"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:16:06:166"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:16:06:166"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:16:06:166"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 01:17:13:1713"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:17:13:1713"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:17:14:1714"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:17:14:1714"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:17:14:1714"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 01:17:15:1715"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:17:15:1715"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:17:16:1716"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:17:15:1715"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 01:17:16:1716"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:17:16:1716"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:17:16:1716"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:17:16:1716"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:17:16:1716"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:17:17:1717"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:17:16:1716"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:17:21:1721"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:17:21:1721"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:17:21:1721"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:17:21:1721"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:17:21:1721"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:17:21:1721"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 01:18:31:1831"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:18:32:1832"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:18:32:1832"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:18:33:1833"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:18:33:1833"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 01:18:33:1833"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:18:33:1833"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:18:33:1833"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 01:18:33:1833"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:18:34:1834"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:18:34:1834"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:18:34:1834"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:18:34:1834"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:18:34:1834"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:18:34:1834"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 01:18:34:1834"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:18:38:1838"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:18:38:1838"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:18:38:1838"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:18:38:1838"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:18:39:1839"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:18:39:1839"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:18:39:1839"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:18:39:1839"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:18:39:1839"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:48:1848"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:48:1848"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock user impact data","timestamp":"2025-04-24 01:18:48:1848"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:48:1848"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:48:1848"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock user impact data","timestamp":"2025-04-24 01:18:48:1848"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:58:1858"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:58:1858"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock user impact data","timestamp":"2025-04-24 01:18:58:1858"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:58:1858"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:18:59:1859"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock user impact data","timestamp":"2025-04-24 01:18:59:1859"}
{"details":{"code":"PGRST200","details":"Searched for a foreign key relationship between 'auth.users' and 'subscriptions' in the schema 'public', but no matches were found.","hint":null,"message":"Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache"},"level":"error","message":"Error fetching users: Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache","timestamp":"2025-04-24 01:19:02:192"}
{"level":"error","message":"Error in getUsersList: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:02:192"}
{"level":"error","message":"Error getting users list: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:02:192"}
{"details":{"code":"PGRST200","details":"Searched for a foreign key relationship between 'auth.users' and 'subscriptions' in the schema 'public', but no matches were found.","hint":null,"message":"Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache"},"level":"error","message":"Error fetching users: Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache","timestamp":"2025-04-24 01:19:02:192"}
{"level":"error","message":"Error in getUsersList: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:02:192"}
{"level":"error","message":"Error getting users list: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:02:192"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:19:03:193"}
{"level":"warn","message":"Sentry is not configured for API access, returning mock data","timestamp":"2025-04-24 01:19:04:194"}
{"level":"warn","message":"Sentry not configured, returning mock recent error count.","timestamp":"2025-04-24 01:19:04:194"}
{"level":"warn","message":"Sentry not configured, returning mock recent error count.","timestamp":"2025-04-24 01:19:06:196"}
{"details":{"code":"PGRST200","details":"Searched for a foreign key relationship between 'auth.users' and 'subscriptions' in the schema 'public', but no matches were found.","hint":null,"message":"Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache"},"level":"error","message":"Error fetching users: Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache","timestamp":"2025-04-24 01:19:13:1913"}
{"level":"error","message":"Error in getUsersList: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:13:1913"}
{"level":"error","message":"Error getting users list: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:13:1913"}
{"details":{"code":"PGRST200","details":"Searched for a foreign key relationship between 'auth.users' and 'subscriptions' in the schema 'public', but no matches were found.","hint":null,"message":"Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache"},"level":"error","message":"Error fetching users: Could not find a relationship between 'auth.users' and 'subscriptions' in the schema cache","timestamp":"2025-04-24 01:19:14:1914"}
{"level":"error","message":"Error in getUsersList: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:14:1914"}
{"level":"error","message":"Error getting users list: Failed to fetch users","stack":"Error: Failed to fetch users\n    at Object.getUsersList (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\services\\userService.ts:100:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getUsers (C:\\Users\\mukas\\Downloads\\delisio\\delisio\\src\\admin\\controllers\\userController.ts:24:19)","timestamp":"2025-04-24 01:19:14:1914"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:19:20:1920"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:19:20:1920","total":0,"trend":[{"month":"Nov 2024","revenue":4.61},{"month":"Dec 2024","revenue":31.99},{"month":"Jan 2025","revenue":88.65},{"month":"Feb 2025","revenue":33.88},{"month":"Mar 2025","revenue":73.48},{"month":"Apr 2025","revenue":53.11}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:19:20:1920"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:19:20:1920"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:19:20:1920","total":0,"trend":[{"month":"Nov 2024","revenue":47.25},{"month":"Dec 2024","revenue":24.32},{"month":"Jan 2025","revenue":30.22},{"month":"Feb 2025","revenue":80.18},{"month":"Mar 2025","revenue":31.16},{"month":"Apr 2025","revenue":12.05}]}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"Chat message received","timestamp":"2025-04-24 01:19:59:1959"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"User message saved","messageId":"2426d52c-6fb7-4ab4-8889-45b4dbaefc80","timestamp":"2025-04-24 01:19:59:1959"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","jobId":"57","level":"info","message":"Chat message job added","timestamp":"2025-04-24 01:19:59:1959"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 57","timestamp":"2025-04-24 01:19:59:1959"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","jobId":"57","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-24 01:19:59:1959"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:19:59:1959"}
{"jobId":"57","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-24 01:19:59:1959"}
{"jobId":"57","level":"info","message":"[Worker] generateChatResponse returned. Duration: 4082ms","timestamp":"2025-04-24 01:20:03:203"}
{"jobId":"57","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-24 01:20:03:203"}
{"jobId":"57","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-24 01:20:03:203"}
{"jobId":"57","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 4605ms","timestamp":"2025-04-24 01:20:04:204"}
{"jobId":"57","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-24 01:20:04:204"}
{"jobId":"57","level":"error","message":"Chat job completed but 'reply' is missing or invalid type","resultReplyType":"undefined","timestamp":"2025-04-24 01:20:04:204"}
{"isAppError":false,"level":"error","message":"Error in handleChatMessage: Chat completed but no valid reply was generated.","statusCode":500,"timestamp":"2025-04-24 01:20:04:204"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"Chat message received","timestamp":"2025-04-24 01:20:14:2014"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"User message saved","messageId":"07011f6c-94d3-4374-bcc8-b5ae601f820f","timestamp":"2025-04-24 01:20:14:2014"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","jobId":"58","level":"info","message":"Chat message job added","timestamp":"2025-04-24 01:20:14:2014"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 58","timestamp":"2025-04-24 01:20:14:2014"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","jobId":"58","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-24 01:20:14:2014"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:20:14:2014"}
{"jobId":"58","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-24 01:20:14:2014"}
{"jobId":"58","level":"info","message":"[Worker] generateChatResponse returned. Duration: 3824ms","timestamp":"2025-04-24 01:20:18:2018"}
{"jobId":"58","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-24 01:20:18:2018"}
{"jobId":"58","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-24 01:20:18:2018"}
{"jobId":"58","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 4343ms","timestamp":"2025-04-24 01:20:18:2018"}
{"jobId":"58","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-24 01:20:18:2018"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-24 01:20:19:2019"}
{"jobId":"58","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-24 01:20:19:2019"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:20:20:2020"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:20:20:2020"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:20:20:2020"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:20:20:2020"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:20:20:2020"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:20:20:2020"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:20:20:2020","total":0,"trend":[{"month":"Nov 2024","revenue":85.32},{"month":"Dec 2024","revenue":10.61},{"month":"Jan 2025","revenue":36.61},{"month":"Feb 2025","revenue":83.1},{"month":"Mar 2025","revenue":35.59},{"month":"Apr 2025","revenue":29.36}]}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"Chat message received","timestamp":"2025-04-24 01:20:42:2042"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"User message saved","messageId":"edd5277b-3daa-43f9-8a79-c661674f99ca","timestamp":"2025-04-24 01:20:42:2042"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","jobId":"59","level":"info","message":"Chat message job added","timestamp":"2025-04-24 01:20:42:2042"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 01:20:42:2042"}
{"level":"info","message":"[Worker] Processor function ENTERED for job: 59","timestamp":"2025-04-24 01:20:42:2042"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","jobId":"59","level":"info","message":"[Worker] Processing chat message job STARTED","timestamp":"2025-04-24 01:20:42:2042"}
{"jobId":"59","level":"info","message":"[Worker] Calling generateChatResponse...","timestamp":"2025-04-24 01:20:42:2042"}
{"jobId":"59","level":"info","message":"[Worker] generateChatResponse returned. Duration: 4527ms","timestamp":"2025-04-24 01:20:47:2047"}
{"jobId":"59","level":"info","message":"[Worker] Parsing response...","timestamp":"2025-04-24 01:20:47:2047"}
{"jobId":"59","level":"info","message":"[Worker] Response parsed successfully.","timestamp":"2025-04-24 01:20:47:2047"}
{"jobId":"59","level":"info","message":"[Worker] Processing chat message job COMPLETED SUCCESSFULLY. Total Duration: 5054ms","timestamp":"2025-04-24 01:20:47:2047"}
{"jobId":"59","level":"info","message":"[Worker] Chat job completed successfully event received","timestamp":"2025-04-24 01:20:47:2047"}
{"conversationId":"2e35f8e5-3434-4327-8750-d445100e3866","level":"info","message":"Assistant response saved and conversation updated","timestamp":"2025-04-24 01:20:48:2048"}
{"jobId":"59","level":"info","message":"Chat job completed, response sent","timestamp":"2025-04-24 01:20:48:2048"}
{"level":"info","message":"Queue system is active and connected.","timestamp":"2025-04-24 01:20:51:2051"}
{"level":"info","message":"Recipe generation requested via Queue for query: Banana Bread, requestId: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:20:52:2052"}
{"level":"info","message":"Recipe generation job c09d4704-6f49-4b31-b9b8-5af186492836 added to queue","timestamp":"2025-04-24 01:20:52:2052"}
{"level":"info","message":"[Worker] Recipe Processor function ENTERED for job: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:20:52:2052"}
{"jobId":"c09d4704-6f49-4b31-b9b8-5af186492836","level":"info","message":"Processing recipe job","requestId":"c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:20:52:2052"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Generating content...","timestamp":"2025-04-24 01:20:52:2052"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:20:57:2057"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: active, progress: 10%","timestamp":"2025-04-24 01:20:57:2057"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:02:212"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: active, progress: 10%","timestamp":"2025-04-24 01:21:02:212"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:07:217"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: active, progress: 10%","timestamp":"2025-04-24 01:21:07:217"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:12:2112"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: active, progress: 10%","timestamp":"2025-04-24 01:21:12:2112"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Parsing content...","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Saving initial recipe data...","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Generating images (10 steps)...","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"Initializing partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 1...","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 40%","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 155","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: active, progress: 35%","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 155","timestamp":"2025-04-24 01:21:17:2117"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 2...","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:21:18:2118"}
{"jobId":"155","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":0,"timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 156","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Job 155] Generating image...","prompt":"Step 1 for recipe 'Classic Banana Bread': Greasing loaf pan. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 3...","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 156","timestamp":"2025-04-24 01:21:18:2118"}
{"jobId":"156","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":1,"timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 157","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Job 156] Generating image...","prompt":"Step 2 for recipe 'Classic Banana Bread': Whisking dry ingredients. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 157","timestamp":"2025-04-24 01:21:18:2118"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 4...","timestamp":"2025-04-24 01:21:19:2119"}
{"jobId":"157","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":2,"timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 158","timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Job 157] Generating image...","prompt":"Step 3 for recipe 'Classic Banana Bread': Creaming butter and sugar. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 158","timestamp":"2025-04-24 01:21:19:2119"}
{"jobId":"158","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":3,"timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 5...","timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Job 158] Generating image...","prompt":"Step 4 for recipe 'Classic Banana Bread': Adding eggs to batter. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 159","timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 159","timestamp":"2025-04-24 01:21:19:2119"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 6...","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:21:20:2120"}
{"jobId":"159","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":4,"timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 160","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"[Job 159] Generating image...","prompt":"Step 5 for recipe 'Classic Banana Bread': Stirring in milk and vanilla. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 160","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 7...","timestamp":"2025-04-24 01:21:20:2120"}
{"jobId":"160","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":5,"timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:21:20:2120"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:21:20:2120","total":0,"trend":[{"month":"Nov 2024","revenue":53.74},{"month":"Dec 2024","revenue":39.79},{"month":"Jan 2025","revenue":43.6},{"month":"Feb 2025","revenue":23.7},{"month":"Mar 2025","revenue":82.6},{"month":"Apr 2025","revenue":80.84}]}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 161","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"[Job 160] Generating image...","prompt":"Step 6 for recipe 'Classic Banana Bread': Mixing in mashed bananas. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:20:2120"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 8...","timestamp":"2025-04-24 01:21:21:2121"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 162","timestamp":"2025-04-24 01:21:21:2121"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 9...","timestamp":"2025-04-24 01:21:21:2121"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 163","timestamp":"2025-04-24 01:21:21:2121"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queueing realistic image job for step 10...","timestamp":"2025-04-24 01:21:22:2122"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Queued realistic image generation job 164","timestamp":"2025-04-24 01:21:22:2122"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:22:2122"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Waiting for 10 image jobs...","timestamp":"2025-04-24 01:21:22:2122"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: active, progress: 95%","timestamp":"2025-04-24 01:21:22:2122"}
{"level":"info","message":"[Job 158] Downloading image...","timestamp":"2025-04-24 01:21:42:2142"}
{"level":"info","message":"[Job 155] Downloading image...","timestamp":"2025-04-24 01:21:43:2143"}
{"level":"info","message":"[Job 158] Uploading image...","timestamp":"2025-04-24 01:21:44:2144"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/3.png in bucket: recipe-images","timestamp":"2025-04-24 01:21:44:2144"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/3.png","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"[Job 155] Uploading image...","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/0.png in bucket: recipe-images","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"[Job 158] Image processing completed successfully.","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"[Job 157] Downloading image...","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/0.png","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"Updated step 3 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:45:2145"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/3.png","jobId":"158","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 161","timestamp":"2025-04-24 01:21:45:2145"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 46%","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 158] Updated partial recipe step 3 with image URL","timestamp":"2025-04-24 01:21:46:2146"}
{"jobId":"161","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":6,"timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 155] Image processing completed successfully.","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 161] Generating image...","prompt":"Step 7 for recipe 'Classic Banana Bread': Combining wet and dry ingredients. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"Updated step 0 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:46:2146"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/0.png","jobId":"155","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 162","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 160] Downloading image...","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 52%","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 155] Updated partial recipe step 0 with image URL","timestamp":"2025-04-24 01:21:46:2146"}
{"jobId":"162","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":7,"timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 157] Uploading image...","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/2.png in bucket: recipe-images","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 162] Generating image...","prompt":"Step 8 for recipe 'Classic Banana Bread': Pouring batter into loaf pan. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/2.png","timestamp":"2025-04-24 01:21:46:2146"}
{"level":"info","message":"[Job 157] Image processing completed successfully.","timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"Updated step 2 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:47:2147"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/2.png","jobId":"157","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 163","timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 58%","timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"[Job 157] Updated partial recipe step 2 with image URL","timestamp":"2025-04-24 01:21:47:2147"}
{"jobId":"163","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":8,"timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"[Job 163] Generating image...","prompt":"Step 9 for recipe 'Classic Banana Bread': Baking banana bread. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"[Job 159] Downloading image...","timestamp":"2025-04-24 01:21:47:2147"}
{"level":"info","message":"[Job 160] Uploading image...","timestamp":"2025-04-24 01:21:48:2148"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/5.png in bucket: recipe-images","timestamp":"2025-04-24 01:21:48:2148"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/5.png","timestamp":"2025-04-24 01:21:48:2148"}
{"level":"info","message":"[Job 160] Image processing completed successfully.","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"Updated step 5 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:49:2149"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/5.png","jobId":"160","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"[Worker] Image Processor function ENTERED for job: 164","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 64%","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"[Job 160] Updated partial recipe step 5 with image URL","timestamp":"2025-04-24 01:21:49:2149"}
{"jobId":"164","level":"info","message":"Processing image job","recipeId":"08373004-315d-48ad-a8d8-083ca17ee3af","stepIndex":9,"timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"[Job 164] Generating image...","prompt":"Step 10 for recipe 'Classic Banana Bread': Cooling banana bread. Realistic food photography showing the cooking process.","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"[Job 159] Uploading image...","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/4.png in bucket: recipe-images","timestamp":"2025-04-24 01:21:49:2149"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/4.png","timestamp":"2025-04-24 01:21:50:2150"}
{"level":"info","message":"[Job 159] Image processing completed successfully.","timestamp":"2025-04-24 01:21:50:2150"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:50:2150"}
{"level":"info","message":"Updated step 4 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:50:2150"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/4.png","jobId":"159","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:21:50:2150"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:21:50:2150"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 70%","timestamp":"2025-04-24 01:21:50:2150"}
{"level":"info","message":"[Job 159] Updated partial recipe step 4 with image URL","timestamp":"2025-04-24 01:21:50:2150"}
{"level":"info","message":"[Job 156] Downloading image...","timestamp":"2025-04-24 01:21:51:2151"}
{"level":"info","message":"[Job 156] Uploading image...","timestamp":"2025-04-24 01:21:53:2153"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/1.png in bucket: recipe-images","timestamp":"2025-04-24 01:21:53:2153"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/1.png","timestamp":"2025-04-24 01:21:53:2153"}
{"level":"info","message":"[Job 156] Image processing completed successfully.","timestamp":"2025-04-24 01:21:54:2154"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:54:2154"}
{"level":"info","message":"Updated step 1 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:54:2154"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/1.png","jobId":"156","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:21:54:2154"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:21:54:2154"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 76%","timestamp":"2025-04-24 01:21:54:2154"}
{"level":"info","message":"[Job 156] Updated partial recipe step 1 with image URL","timestamp":"2025-04-24 01:21:54:2154"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:21:57:2157"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: active, progress: 95%","timestamp":"2025-04-24 01:21:57:2157"}
{"level":"info","message":"[Job 161] Downloading image...","timestamp":"2025-04-24 01:22:13:2213"}
{"level":"info","message":"[Job 161] Uploading image...","timestamp":"2025-04-24 01:22:15:2215"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/6.png in bucket: recipe-images","timestamp":"2025-04-24 01:22:15:2215"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/6.png","timestamp":"2025-04-24 01:22:16:2216"}
{"level":"info","message":"[Job 161] Image processing completed successfully.","timestamp":"2025-04-24 01:22:16:2216"}
{"level":"info","message":"[Job 164] Downloading image...","timestamp":"2025-04-24 01:22:16:2216"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:16:2216"}
{"level":"info","message":"Updated step 6 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:16:2216"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/6.png","jobId":"161","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:22:16:2216"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 82%","timestamp":"2025-04-24 01:22:16:2216"}
{"level":"info","message":"[Job 161] Updated partial recipe step 6 with image URL","timestamp":"2025-04-24 01:22:16:2216"}
{"level":"info","message":"[Job 164] Uploading image...","timestamp":"2025-04-24 01:22:18:2218"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/9.png in bucket: recipe-images","timestamp":"2025-04-24 01:22:18:2218"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/9.png","timestamp":"2025-04-24 01:22:19:2219"}
{"level":"info","message":"[Job 162] Downloading image...","timestamp":"2025-04-24 01:22:19:2219"}
{"level":"info","message":"[Job 164] Image processing completed successfully.","timestamp":"2025-04-24 01:22:19:2219"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:19:2219"}
{"level":"info","message":"Updated step 9 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:19:2219"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/9.png","jobId":"164","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:22:19:2219"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 88%","timestamp":"2025-04-24 01:22:19:2219"}
{"level":"info","message":"[Job 164] Updated partial recipe step 9 with image URL","timestamp":"2025-04-24 01:22:19:2219"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:22:20:2220"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:22:20:2220"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:22:20:2220"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:22:20:2220"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:22:20:2220"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:22:20:2220"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:22:20:2220","total":0,"trend":[{"month":"Nov 2024","revenue":81.46},{"month":"Dec 2024","revenue":96.7},{"month":"Jan 2025","revenue":49.03},{"month":"Feb 2025","revenue":30.63},{"month":"Mar 2025","revenue":39.44},{"month":"Apr 2025","revenue":41.38}]}
{"level":"info","message":"[Job 162] Uploading image...","timestamp":"2025-04-24 01:22:21:2221"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/7.png in bucket: recipe-images","timestamp":"2025-04-24 01:22:21:2221"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/7.png","timestamp":"2025-04-24 01:22:21:2221"}
{"level":"info","message":"[Job 162] Image processing completed successfully.","timestamp":"2025-04-24 01:22:21:2221"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:22:2222"}
{"level":"info","message":"Updated step 7 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:22:2222"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/7.png","jobId":"162","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:22:22:2222"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 01:22:22:2222"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 94%","timestamp":"2025-04-24 01:22:22:2222"}
{"level":"info","message":"[Job 162] Updated partial recipe step 7 with image URL","timestamp":"2025-04-24 01:22:22:2222"}
{"level":"info","message":"[Job 163] Downloading image...","timestamp":"2025-04-24 01:22:24:2224"}
{"level":"info","message":"[Job 163] Uploading image...","timestamp":"2025-04-24 01:22:25:2225"}
{"level":"info","message":"Uploading image to Supabase Storage at path: public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/8.png in bucket: recipe-images","timestamp":"2025-04-24 01:22:25:2225"}
{"level":"info","message":"Image successfully uploaded. Public URL: https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/8.png","timestamp":"2025-04-24 01:22:25:2225"}
{"level":"info","message":"[Job 163] Image processing completed successfully.","timestamp":"2025-04-24 01:22:25:2225"}
{"level":"info","message":"Merging partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:26:2226"}
{"level":"info","message":"Updated step 8 image URL for c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:26:2226"}
{"imageUrl":"https://kwdnztyhexydoaicjepd.supabase.co/storage/v1/object/public/recipe-images/public/steps/08373004-315d-48ad-a8d8-083ca17ee3af/8.png","jobId":"163","level":"info","message":"Image job completed successfully","timestamp":"2025-04-24 01:22:26:2226"}
{"level":"info","message":"Successfully updated partial recipe cache for c09d4704-6f49-4b31-b9b8-5af186492836, progress: 100%","timestamp":"2025-04-24 01:22:26:2226"}
{"level":"info","message":"[Job 163] Updated partial recipe step 8 with image URL","timestamp":"2025-04-24 01:22:26:2226"}
{"level":"info","message":"[Job c09d4704-6f49-4b31-b9b8-5af186492836] Recipe generation completed: \"Classic Banana Bread\" with realistic images","timestamp":"2025-04-24 01:22:26:2226"}
{"jobId":"c09d4704-6f49-4b31-b9b8-5af186492836","level":"info","message":"Recipe job completed successfully: \"Classic Banana Bread\"","requestId":"c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:26:2226"}
{"level":"info","message":"Checking status for recipe generation: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:32:2232"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 is in state: completed, progress: 100%","timestamp":"2025-04-24 01:22:32:2232"}
{"level":"info","message":"Job c09d4704-6f49-4b31-b9b8-5af186492836 completed successfully.","timestamp":"2025-04-24 01:22:32:2232"}
{"level":"info","message":"Cleaned up Redis cache for requestId: c09d4704-6f49-4b31-b9b8-5af186492836","timestamp":"2025-04-24 01:22:33:2233"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:23:20:2320"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:23:20:2320"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:23:20:2320"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:23:20:2320"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:23:20:2320"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:23:20:2320"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:23:20:2320","total":0,"trend":[{"month":"Nov 2024","revenue":10.96},{"month":"Dec 2024","revenue":83.18},{"month":"Jan 2025","revenue":34.22},{"month":"Feb 2025","revenue":7.11},{"month":"Mar 2025","revenue":14.09},{"month":"Apr 2025","revenue":32.23}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:24:20:2420"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:24:20:2420"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:24:20:2420"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:24:20:2420"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:24:20:2420"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:24:20:2420"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:24:20:2420","total":0,"trend":[{"month":"Nov 2024","revenue":69.18},{"month":"Dec 2024","revenue":29.77},{"month":"Jan 2025","revenue":53.37},{"month":"Feb 2025","revenue":25.96},{"month":"Mar 2025","revenue":15.41},{"month":"Apr 2025","revenue":26.42}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:25:21:2521"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:25:21:2521"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:25:21:2521"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:25:21:2521"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:25:21:2521"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:25:21:2521"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:25:21:2521","total":0,"trend":[{"month":"Nov 2024","revenue":70.94},{"month":"Dec 2024","revenue":24.56},{"month":"Jan 2025","revenue":49.87},{"month":"Feb 2025","revenue":80.73},{"month":"Mar 2025","revenue":35.18},{"month":"Apr 2025","revenue":73.64}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:26:22:2622"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:26:22:2622"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:26:22:2622"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:26:22:2622"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:26:22:2622"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:26:22:2622"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:26:22:2622","total":0,"trend":[{"month":"Nov 2024","revenue":50.05},{"month":"Dec 2024","revenue":35.72},{"month":"Jan 2025","revenue":99.51},{"month":"Feb 2025","revenue":10.34},{"month":"Mar 2025","revenue":88.73},{"month":"Apr 2025","revenue":84.8}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:27:23:2723"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:27:23:2723"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:27:23:2723"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:27:23:2723"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:27:23:2723"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:27:23:2723"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:27:23:2723","total":0,"trend":[{"month":"Nov 2024","revenue":27.52},{"month":"Dec 2024","revenue":90.78},{"month":"Jan 2025","revenue":64.46},{"month":"Feb 2025","revenue":18.64},{"month":"Mar 2025","revenue":65.5},{"month":"Apr 2025","revenue":34.02}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:28:24:2824"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:28:24:2824"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:28:24:2824"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:28:24:2824"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:28:24:2824"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:28:24:2824"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:28:24:2824","total":0,"trend":[{"month":"Nov 2024","revenue":65.23},{"month":"Dec 2024","revenue":45.69},{"month":"Jan 2025","revenue":3.86},{"month":"Feb 2025","revenue":36.37},{"month":"Mar 2025","revenue":45.27},{"month":"Apr 2025","revenue":31.82}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:29:25:2925"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:29:25:2925"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:29:25:2925"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:29:25:2925"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:29:25:2925"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:29:25:2925","total":0,"trend":[{"month":"Nov 2024","revenue":43.06},{"month":"Dec 2024","revenue":40.38},{"month":"Jan 2025","revenue":58.17},{"month":"Feb 2025","revenue":56.63},{"month":"Mar 2025","revenue":36.91},{"month":"Apr 2025","revenue":61.35}]}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:29:25:2925"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:30:26:3026"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:30:26:3026"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:30:26:3026"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:30:26:3026"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:30:26:3026"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:30:26:3026"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:30:26:3026","total":0,"trend":[{"month":"Nov 2024","revenue":8.86},{"month":"Dec 2024","revenue":59.76},{"month":"Jan 2025","revenue":89.93},{"month":"Feb 2025","revenue":28.17},{"month":"Mar 2025","revenue":88.03},{"month":"Apr 2025","revenue":86.09}]}
{"code":"ECONNRESET","errno":-4077,"level":"error","message":"Redis connection error: read ECONNRESET","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","syscall":"read","timestamp":"2025-04-24 01:37:10:3710"}
{"error":"read ECONNRESET","level":"error","message":"Image worker error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:10:3710"}
{"error":"read ECONNRESET","level":"error","message":"Recipe worker instance error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:10:3710"}
{"code":"ECONNRESET","errno":-4077,"level":"error","message":"Redis connection error: read ECONNRESET","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)\n    at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)","syscall":"read","timestamp":"2025-04-24 01:37:10:3710"}
{"error":"read ECONNRESET","level":"error","message":"Image worker error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)\n    at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)","timestamp":"2025-04-24 01:37:10:3710"}
{"error":"read ECONNRESET","level":"error","message":"Recipe worker instance error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)\n    at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)","timestamp":"2025-04-24 01:37:10:3710"}
{"error":"read ECONNRESET","level":"error","message":"[Worker] Chat worker instance encountered an error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)\n    at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)","timestamp":"2025-04-24 01:37:10:3710"}
{"code":"ECONNRESET","errno":-4077,"level":"error","message":"Redis connection error: read ECONNRESET","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","syscall":"read","timestamp":"2025-04-24 01:37:11:3711"}
{"error":"read ECONNRESET","level":"error","message":"Image worker error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:37:11:3711"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:37:12:3712"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:37:12:3712","total":0,"trend":[{"month":"Nov 2024","revenue":23.44},{"month":"Dec 2024","revenue":77.7},{"month":"Jan 2025","revenue":52.95},{"month":"Feb 2025","revenue":60.98},{"month":"Mar 2025","revenue":4.1},{"month":"Apr 2025","revenue":95.19}]}
{"error":"read ECONNRESET","level":"error","message":"Image worker error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:12:3712"}
{"error":"read ECONNRESET","level":"error","message":"[Worker] Chat worker instance encountered an error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)\n    at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)","timestamp":"2025-04-24 01:37:12:3712"}
{"error":"read ECONNRESET","level":"error","message":"Recipe worker instance error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:12:3712"}
{"error":"read ECONNRESET","level":"error","message":"Recipe worker instance error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)\n    at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)","timestamp":"2025-04-24 01:37:12:3712"}
{"error":"read ECONNRESET","level":"error","message":"Image worker error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)\n    at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)","timestamp":"2025-04-24 01:37:12:3712"}
{"error":"read ECONNRESET","level":"error","message":"Image worker error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:12:3712"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:37:12:3712"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:37:12:3712"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:37:12:3712"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:37:12:3712"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 01:37:12:3712"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 01:37:12:3712"}
{"code":"ECONNRESET","errno":-4077,"level":"error","message":"Redis connection error: read ECONNRESET","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","syscall":"read","timestamp":"2025-04-24 01:37:15:3715"}
{"error":"read ECONNRESET","level":"error","message":"[Worker] Chat worker instance encountered an error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:15:3715"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 01:37:15:3715"}
{"error":"read ECONNRESET","level":"error","message":"[Worker] Chat worker instance encountered an error:","stack":"Error: read ECONNRESET\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:218:20)","timestamp":"2025-04-24 01:37:15:3715"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 01:37:16:3716"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:37:57:3757"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:37:57:3757"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:37:57:3757"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:37:57:3757"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:37:57:3757"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:37:57:3757"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:37:57:3757","total":0,"trend":[{"month":"Nov 2024","revenue":85.4},{"month":"Dec 2024","revenue":98.72},{"month":"Jan 2025","revenue":96.39},{"month":"Feb 2025","revenue":54.24},{"month":"Mar 2025","revenue":17.54},{"month":"Apr 2025","revenue":8.79}]}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:38:57:3857"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:38:57:3857"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:38:57:3857"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:38:57:3857"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:38:57:3857"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:38:57:3857","total":0,"trend":[{"month":"Nov 2024","revenue":86.96},{"month":"Dec 2024","revenue":64.47},{"month":"Jan 2025","revenue":31.35},{"month":"Feb 2025","revenue":84.01},{"month":"Mar 2025","revenue":63.49},{"month":"Apr 2025","revenue":1.78}]}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:38:57:3857"}
{"level":"info","message":"Getting revenue metrics for period: 30d","timestamp":"2025-04-24 01:39:57:3957"}
{"level":"info","message":"Getting churn analysis for period: 90d","timestamp":"2025-04-24 01:39:57:3957"}
{"level":"info","message":"Getting conversion rates for period: 6m","timestamp":"2025-04-24 01:39:57:3957"}
{"level":"warn","message":"Using mock data for conversion rates","timestamp":"2025-04-24 01:39:57:3957"}
{"level":"info","message":"Subscription tiers overview fetched and processed from DB.","timestamp":"2025-04-24 01:39:57:3957"}
{"level":"info","message":"Generating mock revenue trend for period: 30d","timestamp":"2025-04-24 01:39:57:3957"}
{"byTier":{"basic":0,"premium":0},"level":"info","message":"Returning calculated/mocked revenue metrics:","oneTime":0,"recurring":0,"refunds":0,"timestamp":"2025-04-24 01:39:57:3957","total":0,"trend":[{"month":"Nov 2024","revenue":95.51},{"month":"Dec 2024","revenue":2.86},{"month":"Jan 2025","revenue":7.27},{"month":"Feb 2025","revenue":47.99},{"month":"Mar 2025","revenue":9.3},{"month":"Apr 2025","revenue":34.41}]}
{"level":"info","message":"[Worker] Shutting down image worker process...","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"info","message":"[Worker] Shutting down recipe worker process...","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"info","message":"[Worker] Shutting down chat worker process...","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"warn","message":"Image worker is closing connection to Redis.","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"warn","message":"[Worker] Chat worker is closing connection to Redis.","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"info","message":"[Worker] Recipe worker and imageQueueEvents connection closed.","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"warn","message":"Image worker has closed connection to Redis.","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"warn","message":"[Worker] Chat worker has closed connection to Redis.","timestamp":"2025-04-24 01:40:13:4013"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 08:19:36:1936"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 08:19:37:1937"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 08:19:37:1937"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 08:19:38:1938"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 08:19:38:1938"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 08:19:39:1939"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 08:19:39:1939"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 08:19:38:1938"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 08:19:39:1939"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 08:19:40:1940"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 08:19:40:1940"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 08:19:40:1940"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 08:19:40:1940"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 08:19:40:1940"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 08:19:40:1940"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 08:19:41:1941"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 08:19:52:1952"}
{"level":"info","message":"Image queue worker process connected to Redis.","timestamp":"2025-04-24 08:19:52:1952"}
{"level":"info","message":"Recipe queue worker process connected to Redis.","timestamp":"2025-04-24 08:19:52:1952"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 08:19:52:1952"}
{"level":"info","message":"Image queue is drained - all jobs processed.","timestamp":"2025-04-24 08:19:52:1952"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 08:19:52:1952"}
{"level":"info","message":"[Worker] Shutting down recipe worker process...","timestamp":"2025-04-24 08:34:06:346"}
{"level":"info","message":"[Worker] Shutting down image worker process...","timestamp":"2025-04-24 08:34:06:346"}
{"level":"info","message":"[Worker] Shutting down chat worker process...","timestamp":"2025-04-24 08:34:06:346"}
{"level":"warn","message":"[Worker] Chat worker is closing connection to Redis.","timestamp":"2025-04-24 08:34:06:346"}
{"level":"warn","message":"Image worker is closing connection to Redis.","timestamp":"2025-04-24 08:34:06:346"}
{"level":"info","message":"[Worker] Recipe worker and imageQueueEvents connection closed.","timestamp":"2025-04-24 08:34:06:346"}
{"level":"warn","message":"[Worker] Chat worker has closed connection to Redis.","timestamp":"2025-04-24 08:34:06:346"}
{"level":"warn","message":"Image worker has closed connection to Redis.","timestamp":"2025-04-24 08:34:06:346"}
{"level":"info","message":"Chat worker process started...","timestamp":"2025-04-24 09:28:47:2847"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 09:28:47:2847"}
{"level":"info","message":"[Worker] Chat queue worker process connected to Redis.","timestamp":"2025-04-24 09:28:48:2848"}
{"level":"info","message":"[Worker] Chat queue is drained - all jobs processed.","timestamp":"2025-04-24 09:28:48:2848"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 09:28:48:2848"}
{"level":"info","message":"Image worker process started...","timestamp":"2025-04-24 09:28:48:2848"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 09:28:48:2848"}
{"level":"info","message":"Supabase client initialized successfully.","timestamp":"2025-04-24 09:28:48:2848"}
{"level":"info","message":"Recipe worker process started...","timestamp":"2025-04-24 09:28:48:2848"}
{"level":"info","message":"Redis client connected successfully to Upstash Redis","timestamp":"2025-04-24 09:28:48:2848"}
